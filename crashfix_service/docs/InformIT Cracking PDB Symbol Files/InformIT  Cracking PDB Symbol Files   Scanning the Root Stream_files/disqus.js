var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.dtpl=(function(){var a={version:"0.2",author:"Anton Kovalyov <anton@disqus.com>"};a.getGuestFields=function(f){function e(g){return DISQUS.nodes.get("#"+g+(f?"-"+f:""))}return{name:e("dsq-field-name"),email:e("dsq-field-email"),website:e("dsq-field-website"),username:e("dsq-field-username"),password:e("dsq-field-password"),subscribe:e("dsq-subscribe-on-post")}};var d=function(){};d.prototype={container:function(){return this._container},show:function(){var e=this.container();if(e){e.style.display="block"}},hide:function(){var e=this.container();if(e){e.style.display="none"}}};var b=function(j,i){var g=this;g.id=j;g.rpcReady=false;g.focusCalled=false;g._container=null;var h;if(j){h=g.render(i)}else{if(DISQUS.jsonData.forum.template.api=="1.0"){h=DISQUS.nodes.get("#dsq-textarea-wrapper")}else{h=DISQUS.nodes.get(".dsq-textarea-wrapper",DISQUS.nodes.get("#dsq-reply"))[0]}}g.rpc=DISQUS.comm.Reply.create(h,j,function(){DISQUS.dtpl.actions.fire("comments.reply.new.onLoadingEnd",j);g.rpcReady=true;if(g.focusCalled){setTimeout(function(){g.focus()},0)}});var f=DISQUS.nodes.get(".dsq-attach-media-container",DISQUS.nodes.get("#dsq-reply"+(j?("-"+j):"")))[0];var e=DISQUS.dtpl.actions.registered("comments.reply.media.upload.onSuccess");if(e&&DISQUS.jsonData.context.switches.upload_media){g.uploadrpc=DISQUS.comm.Upload.create(f,j)}DISQUS.dtpl.actions.fire("comments.reply.new.onLoadingStart",j)};b.instances={};b.create=function(g,f){var e=new b(g,f);b.instances[g]=e;return e};b.get=function(e){return b.instances[e]};DISQUS.extend(b.prototype,d.prototype,{focus:function(){if(!this.rpcReady){this.focusCalled=true}else{this.rpc.focus()}},render:function(i){var e=this;var j=e.id;if(typeof i==="string"){var h=document.createElement("div");h.innerHTML=i;i=h}var g=DISQUS.nodes.get(a.APPEND_REPLY_ID(e.id));e._container=i;var f;if(DISQUS.jsonData.forum.template.api=="1.0"){g.appendChild(i);f=DISQUS.nodes.get("#dsq-textarea-wrapper"+(j?"-"+j:""))}else{DISQUS.nodes.insertAfter(g,i);f=DISQUS.nodes.get(".dsq-textarea-wrapper",i)[0]}return f}});a.ReplyBox=b;var c=function(k,i){var e=this;if(typeof i==="string"){var h=document.createElement("div");h.innerHTML=i;i=h}if(DISQUS.jsonData.forum.template.api=="1.0"){var f=document.createElement("div");f.appendChild(i);i=f;i.id="dsq-edit-"+k;i.className="dsq-edit dsq-textarea"}var g=DISQUS.nodes.get(a.APPEND_EDIT_ID(k));var j;if(DISQUS.jsonData.forum.template.api=="1.0"){g.appendChild(i);j=DISQUS.nodes.get("#dsq-edit-iframe-"+k)}else{DISQUS.nodes.insertAfter(g,i);j=DISQUS.nodes.get(".dsq-textarea-wrapper",i)[0]}e.rpc=DISQUS.comm.Edit.create(j,k,function(){e.rpc.focus()});e._container=i};c.instances={};c.create=function(g,f){var e=new c(g,f);c.instances[g]=e;return e};c.get=function(e){return c.instances[e]};DISQUS.extend(c.prototype,b.prototype,{focus:function(){}});a.EditBox=c;return a})();DISQUS.dtpl.actions=(function(){var j={},d={},f={},e=DISQUS.dtpl,h=null,g=[],i=["1.0","1.1"],k=i[i.length-1];j.def=function(m){var l,n;if(typeof arguments[1]==="string"){l=arguments[1];n=arguments[2]}else{l=">= "+i[0];n=arguments[1]}if(!d[m]){d[m]={}}d[m][l]=n};var b=j.def;b("__.comments.reply.media.upload",function(l){j.fire("comments.reply.media.upload.onLoadingStart",l)});b("__.comments.reply.media.upload.onResponse",function(n,o){if(n&&n.constructor===Array){for(var m=n.length-1;m>=0;--m){j.fire("comments.reply.media.upload.onLoadingEnd",o);j.fire("comments.reply.media.upload.onSuccess",n[m],o)}}else{if(n&&n.success&&n.media){o=o||"";var l=DISQUS.comm.Upload.recover(o);n.forum_id=DISQUS.jsonData.forum.id;n.thread_id=DISQUS.jsonData.thread.id;n.id=o;l.media("set",n);j.fire("comments.reply.media.upload.onLoadingEnd",o);j.fire("comments.reply.media.upload.onSuccess",n.media,o)}else{if(n.silence){return}if(n.message){j.fire("message.error",n.message,n.title||"Error")}j.fire("comments.reply.media.upload.onLoadingEnd",o)}}});b("comments.reply.media.remove",function(m,o){var n={id:o,media:DISQUS.json.stringify(m.media)};var l=DISQUS.jsonData.urls.upload_remove+"?ts="+(+new Date());DISQUS.request.get(l,n)});b("__.comments.reply.media.remove.onResponse",function(m){delete m.success;m.id=m.id||"";m.forum_id=DISQUS.jsonData.forum.id;m.thread_id=DISQUS.jsonData.thread.id;var l=DISQUS.comm.Upload.recover(m.id);l.media("remove",m,m.id);j.fire("comments.reply.media.remove.onSuccess",m)});b("__.comments.reply.media.upload.clear",function(n){var l=DISQUS.comm.Upload.recover(n),m={forum_id:DISQUS.jsonData.forum.id,thread_id:DISQUS.jsonData.thread.id,id:n||""};if(!l){return}l.media("clear",m);j.fire("comments.reply.media.upload.clear",n)});b("message.error",function(l,m){DISQUS.popup.popModal(l,m||DISQUS.strings.get("Error"))});b("message.error.onField",function(m,n){if(DISQUS.jsonData.forum.revert_new_login_flow){j.fire("message.error",DISQUS.strings.get(m),DISQUS.strings.get("Oops..."))}else{if(n){var l=DISQUS.nodes.get("#"+n+"-label");if(l){DISQUS.nodes.addClass(l,"dsq-error");l.innerHTML=DISQUS.strings.get(m)}}else{alert(DISQUS.strings.get(m))}}});b("comments.reply.onCookieFailure","= 1.0",function(m){var l=document.createElement("div");l.innerHTML=DISQUS.renderBlock("cookieFailure");DISQUS.nodes.insertBefore(DISQUS.nodes.get("#dsq-form-area"+(m?"-"+m:"")),l)});b("comments.reply.onCookieFailure",">= 1.1",function(){});b("message.unapprovedComment",function(m,l){DISQUS.popup.popModal(DISQUS.renderBlock("unapprovedCommentMessage",{mustVerify:m}),DISQUS.strings.get("Comment awaiting approval"),l,true,"dsq-popup-unapproved")});b("share.toggle",function(n,l,m){if(DISQUS.nodes.hasClass(n,"dsq-share-toggled")){DISQUS.nodes.removeClass(n,"dsq-share-toggled")}else{DISQUS.nodes.addClass(n,"dsq-share-toggled")}m=m||null;DISQUS.cache.postSharing[m]=DISQUS.cache.postSharing[m]||{twitter:null,facebook:null};cache=DISQUS.cache.postSharing[m];cache[l]=!cache[l]});b("private.setLoadingButton",function(n,l){var m=l?"-"+l:"";var p;var o;if(n){o=document.createElement("button");o.id=n.id+"-loading";o.className=n.className+" dsq-post-loading";o.innerHTML=DISQUS.strings.get("Just a moment...");n.style.display="none";n.parentNode.appendChild(o);p=DISQUS.nodes.get("#dsq-cancel-button"+m);if(p){p.style.display="none"}DISQUS.cache.buttonsToRestore.push(n)}else{DISQUS.lang.forEach(DISQUS.cache.buttonsToRestore,function(q){q.style.display="inline";DISQUS.nodes.remove(DISQUS.nodes.get("#"+q.id+"-loading"))})}});b("comments.validate",function(m){var l=DISQUS.comm.Reply.recover(m);l.validate(function(n){if(n){DISQUS.comm.ensureLoggedIn(function(){j.fire("comments.send",m)},"postas",{onGuest:function(){j.fire("comments.send",m,null,{fields:DISQUS.dtpl.getGuestFields(null)})}})}else{j.fire("message.error",DISQUS.strings.get("Please enter a comment to post."));j.fire("private.setLoadingButton")}})});b("auth.login",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()})});b("auth.disqus",function(m,l){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"disqus")});b("auth.twitter",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"twitter")});b("auth.yahoo",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"yahoo")});b("auth.openid",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"openid")});b("auth.google",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"google")});b("auth.facebook",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"facebook")});b("auth.sso",function(){var m="location=0,status=0,width="+(DISQUS.config.sso.width||800)+",height="+(DISQUS.config.sso.height||400);var n=window.open(DISQUS.config.sso.url,"ssoWindow",m);var l=setInterval(function(){if(DISQUS.window.isClosed(n)){clearInterval(l);window.location.reload()}},500)});b("comments.text.expand",function(p){var o=DISQUS.nodes.get("#dsq-comment-message-"+p),m=DISQUS.nodes.get("#dsq-comment-text-"+p),l=DISQUS.nodes.get(".dsq-comment-truncate-expand",o)[0],n=DISQUS.nodes.get(".dsq-comment-truncate-collapse",o)[0];l.style.display="none";n.style.display="inline";m.innerHTML=DISQUS.jsonData.posts[p].message;return false});b("comments.text.collapse",function(r){var q=DISQUS.nodes.get("#dsq-comment-message-"+r),n=DISQUS.nodes.get("#dsq-comment-text-"+r),l=DISQUS.nodes.get(".dsq-comment-truncate-expand",q)[0],o=DISQUS.nodes.get(".dsq-comment-truncate-collapse",q)[0],m=DISQUS.jsonData.forum.comment_max_words;if(!n||m===0){return false}var p=DISQUS.nodes.truncateComment(n,m,"...");if(p&&l&&o){l.style.display="inline";o.style.display="none"}return false});b("comments.insert",function(u,n,w,t){var s={};DISQUS.redraw();var r=DISQUS.nodes.get("#dsq-comments");var m=document.createElement("div");s.comment=DISQUS.jsonData.posts[n];s.comment.id=n;s.comment.author=DISQUS.jsonData.users[s.comment.user_key];if(t&&t.length){s.comment.media=t;DISQUS.jsonData.mediaembed=DISQUS.jsonData.mediaembed.concat(t)}if(s.comment.parent_post_id){s.comment.parent=DISQUS.jsonData.posts[s.comment.parent_post_id];s.comment.parent.author=DISQUS.jsonData.users[s.comment.parent.user_key];var q=DISQUS.nodes.get("#dsq-comment-"+s.comment.parent_post_id);DISQUS.nodes.addClass(q,"dsq-comment-is-parent");var v=s.comment.parent;do{v.num_replies+=1;v=DISQUS.jsonData.posts[v.parent_post_id]}while(v!==undefined)}s.comment.stripped=function(x){var y=s.comment.message.replace(/<.*?>/g,"");if(y.length>x){return y.substring(0,x)}return null};m.innerHTML=DISQUS.renderBlock("comment",s);if(u===-1){r.appendChild(m)}else{if(!u){r.insertBefore(m,r.firstChild)}else{if(DISQUS.nodes.get("dsq-comment-"+u)){var o=DISQUS.nodes.get(e.APPEND_COMMENT_ID(u));DISQUS.nodes.insertAfter(o,m)}}}var l=DISQUS.nodes.get("#dsq-avatar-"+n);var p=DISQUS.nodes.get("img.dsq-deferred-avatar",l);DISQUS.lang.forEach(p,function(x){x.setAttribute("src",x.getAttribute("data-src"));DISQUS.nodes.removeClass(x,"dsq-deferred-avatar")});j.fire("comments.text.collapse",n);DISQUS.dtpl.actions.fire("__.comments.insert.onSuccess",u,n)});b("comments.insert.onSuccess",function(m,l){});b("__.comments.insert.onSuccess",function(m,l){DISQUS.dtpl.actions.fire("comments.insert.onSuccess",m,l)});b("comments.insert.onSuccess",function(){});b("comments.blacklist",function(q,n){var l=[];var p=DISQUS.jsonData.posts[q];var m=DISQUS.jsonData.users[p.user_key];var o={"dsq-blacklist-username":5,"dsq-blacklist-email":1,"dsq-blacklist-ip":2};if(n){DISQUS.lang.forEach(o,function(s,t){var r=DISQUS.nodes.get("#"+t);if(r&&r.checked){l.push(s)}});if(l.length<1){alert(DISQUS.strings.get("Please select something to add to the blacklist."));return}DISQUS.popup.close(null,true);DISQUS.lang.forEach(l,function(s){var r=DISQUS.jsonData.urls.embed_block;DISQUS.request.get(r,{post_id:q,type:s},true)})}else{DISQUS.popup.close(null,true);DISQUS.popup.popModal(DISQUS.renderBlock("blacklistPopup",{comment:p,user:m}),DISQUS.strings.get("Add to Blacklist"))}});b("comments.outline",function(l){var m=DISQUS.nodes.get("#dsq-comment-"+l);if(m){DISQUS.nodes.addClass(m,"dsq-comment-outline");setTimeout(function(){DISQUS.nodes.removeClass(m,"dsq-comment-outline")},3000)}});b("comments.permalink",function(l){DISQUS.popup.popModal(DISQUS.renderBlock("permalinkPopup",{postId:l}),DISQUS.strings.get("Link to this comment"),l)});b("comments.send",function(m,p,o){var q=DISQUS.comm.Reply.recover(m);o=o||{};var r=function(t){try{return +(DISQUS.cache.postSharing[m||null][t]||null)}catch(u){return 0}};var s=function(t){DISQUS.dtpl.actions.fire("comments.send.onSuccess",t,m)};var n=function(t){var u=t.data;u.sendArguments={postId:m,element:p,options:o};DISQUS.dtpl.actions.fire("comments.send.onFailure",u)};if(p){j.fire("private.setLoadingButton",p,m)}if(DISQUS.jsonData.request.is_authenticated){q.post({tw:r("twitter"),fb:r("facebook"),tr:r("tumblr"),wp:r("wordpress"),mt:r("movabletype"),tp:r("typepad"),yh:r("yahoo")},o.captcha||null,s,n)}else{var l=o.fields||DISQUS.dtpl.getGuestFields(m);if(DISQUS.dtpl.validators.guestFields(l)){q.postAsGuest(l.name.value,l.email.value,(l.website?l.website.value:""),(l.subscribe&&l.subscribe.checked),o.captcha||null,s,n)}}if(o.force){DISQUS.cookies.create("skipped_auth",true)}});b("comments.send.onSuccess",function(o,q){var p=DISQUS.jsonData.posts;var r=DISQUS.jsonData.users;var l;var n=o.message.post_meta.user_key;var m;if(o.succeeded){j.fire("__.comments.reply.media.upload.clear",o.message.post_meta.parent_post_id)}p[o.message.id]=o.message.post_meta;if(!r[n]){r[n]=o.message.user_meta}if(typeof disqus_insert_wrt_sort=="undefined"){l=DISQUS.jsonData.forum.reply_position?-1:null}else{l=DISQUS.jsonData.request.sort==2?null:-1}if(o.message.post_meta.approved){j.fire("comments.insert",o.message.post_meta.parent_post_id||l,o.message.id,o.message.post_meta.message,o.message.media_embed)}if(q){j.fire("comments.reply.cancel",q)}DISQUS.popup.close(null,true);if(o.message.post_meta.approved){j.fire("thread.incrementCommentsCount");j.fire("comments.outline",o.message.id)}else{j.fire("message.unapprovedComment",DISQUS.jsonData.request.missing_perm=="verify",o.message.id);DISQUS.redraw()}if(o.message.fb_callback&&o.message.fb_callback[0]){DISQUS.FB.init(function(){DISQUS.FB.streamPublish("",o.message.fb_callback[1])})}j.fire("private.setLoadingButton");DISQUS.trigger("comment.onCreate",{args:[{id:o.message.id,text:o.message.post_meta.message}]})});b("comments.showUserVotes",function(m){var l=DISQUS.jsonData.urls.show_user_votes;DISQUS.request.get(l,{post_id:m},true)});b("comments.highlight",function(n){var l=DISQUS.jsonData,m=DISQUS.comm.Default.recover().api;if(!DISQUS.jsonData.context.switches.embedapi){DISQUS.request.get(l.urls.embed_highlight,{"new":1,post_id:n},true);return}m("posts","highlight",{post:n},"POST",function(o){DISQUS.dtpl.actions.fire("comments.highlight.onSuccess",o[0])})});b("comments.highlight.onSuccess",function(l){});b("comments.unhighlight",function(m){if(!DISQUS.jsonData.context.switches.embedapi){return DISQUS.dtpl.actions.fire("comments.highlight",m)}var l=DISQUS.comm.Default.recover().api;l("posts","unhighlight",{post:m},"POST",function(n){DISQUS.dtpl.actions.fire("comments.unhighlight.onSuccess",n[0])})});b("comments.unhighlight.onSuccess",function(l){});b("comments.showParent",function(n){var l=DISQUS.jsonData.posts[n];var m=DISQUS.renderBlock("commentMessage",{comment:l,cls:""});m+='<br/><br/><a href="#comment-'+n+'">'+DISQUS.strings.get("Jump to comment")+"</a>";DISQUS.popup.popModal(m,l.author.display_name+" "+DISQUS.strings.get("said")+"&hellip;",n)});b("captcha.init",function(l){if(!window.Recaptcha){DISQUS.require("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js")}DISQUS.addJob(function(){return !!window.Recaptcha},l)});b("captcha.open",function(l){function m(){var q=DISQUS.lang.partial(DISQUS.dtpl.actions.fire,"captcha.submit",l);var p=DISQUS.nodes.get("button",DISQUS.nodes.get("#dsq-captcha"))[0];DISQUS.events.add(p,"click",q);var o=DISQUS.nodes.get("#recaptcha_response_field");DISQUS.events.add(o,"keypress",function(t){var s=t.keyCode||t.which;if(s==13){q()}});var r=DISQUS.nodes.get("#dsq-captcha-loading");r.style.display="none";var n=DISQUS.nodes.get("#dsq-captcha-container");n.style.display="block";Recaptcha.focus_response_field()}DISQUS.popup.popModal(DISQUS.renderBlock("recaptcha"),DISQUS.strings.get("One More Step ..."),null,null,null,{onReady:function(){Recaptcha.create(DISQUS.jsonData.settings.recaptcha_public_key,"dsq-captcha-form",{theme:"clean",callback:m})},onClose:function(){Recaptcha.destroy();j.fire("private.setLoadingButton")}})});b("captcha.submit",function(m){var n=m.options,l=DISQUS.nodes.get;n.captcha={recaptcha_challenge_field:l("#recaptcha_challenge_field").value,recaptcha_response_field:l("#recaptcha_response_field").value};j.fire("comments.send",m.postId,m.element,n);DISQUS.popup.close(null,true)});b("comments.send.onFailure",function(l){if(l.code=="captcha-required"){DISQUS.dtpl.actions.fire("captcha.init",DISQUS.lang.partial(DISQUS.dtpl.actions.fire,"captcha.open",l.sendArguments))}else{j.fire("message.error",l.message);j.fire("private.setLoadingButton")}});b("comments.edit",function(l){if(!DISQUS.states.edit[l]){j.fire("comments.edit.new",l)}else{j.fire("comments.edit.cancel",l)}DISQUS.states.edit[l]=!DISQUS.states.edit[l]});b("comments.edit.new",function(m){var l=DISQUS.comm.Edit.recover(m);if(!l){j.fire("comments.edit.render",m)}j.fire(["comments.edit.show","1.1"],m)});b("comments.edit.render",function(n,m){var l=DISQUS.renderBlock("editArea",{comment:DISQUS.jsonData.posts[n]});e.EditBox.create(n,l)});b("comments.edit.show",">= 1.1",function(p){DISQUS.popup.close(null,true);var m=DISQUS.nodes.get("#dsq-comment-message-"+p);m.style.display="none";var l=DISQUS.nodes.get("#dsq-media-embed-"+p);if(l){l.style.display="none"}var o=DISQUS.nodes.get("#dsq-comment-"+p);var n=DISQUS.nodes.get(".dsq-editedtxt",o);if(n.length){DISQUS.nodes.remove(n[0])}e.EditBox.get(p).show()});b("comments.edit.show","= 1.0",function(l){return j.fire("comments.edit",l)});b("comments.edit.cancel",function(n){var m=DISQUS.nodes.get("#dsq-comment-message-"+n);var l=DISQUS.nodes.get("#dsq-media-embed-"+n);m.style.display="block";if(l){l.style.display="block"}e.EditBox.get(n).hide()});b("comments.edit.send",function(o,n){var l=function(p){DISQUS.lang.extend(DISQUS.jsonData.posts[o],p.message);j.fire("comments.edit.onSuccess",p,o)};var m=function(p){j.fire("comments.edit.onFailure",p,o)};DISQUS.comm.Edit.recover(o).save(l,m)});b("comments.edit.onSuccess",function(l,p){var o=DISQUS.nodes.get("#dsq-comment-message-"+p);o.innerHTML=DISQUS.renderBlock("commentMessage",{comment:DISQUS.jsonData.posts[p],cls:"dsq-comment-message"});var n=o.childNodes;for(var m=n.length-1;m>=0;--m){if((new RegExp("^dsq-comment-message-"+p)).test(n[m].id)){o.innerHTML=n[m].innerHTML;break}}j.fire("comments.edit.cancel",p)});b("comments.edit.onFailure",function(l,m){j.fire("message.error",DISQUS.strings.get("Your comment must be approved by a moderator before appearing here."),DISQUS.strings.get("Comment awaiting approval"));DISQUS.reload(function(){DISQUS.redraw()})});b("comments.spam",function(m){DISQUS.popup.close(null,true);var l=DISQUS.comm.Default.recover().api;l("posts","spam",{post:m},"POST",function(n){DISQUS.dtpl.actions.fire("comments.spam.onSuccess",n[0].id)})});b("comments.spam.onSuccess","= 1.0",function(l){DISQUS.nodes.get("#comment-"+l).innerHTML=DISQUS.strings.get("Comment marked as spam.");DISQUS.nodes.get("#comment-"+l).className="dsq-remove-message";DISQUS.nodes.get("#dsq-comment-"+l).style.display="none"});b("comments.spam.onSuccess",">= 1.1",function(l){});b("comments.reply.onResize",function(m,l){});b("comments.dislike",function(m){var n=DISQUS.jsonData,l=n.posts[m].down_voted?0:-1;if(n.request.is_authenticated||n.forum.allow_anon_votes){j.fire("comments.dislike.onLoadingStart",m);DISQUS.request.get(n.urls.embed_vote,{post_id:m,vote:l},true)}else{j.fire("auth.disqus",DISQUS.strings.get("To vote please login"))}});b("comments.dislike.onLoadingStart",function(l){});b("comments.dislike.onLoadingEnd",function(l){});b("comments.dislike.onSuccess",function(l,m){});b("__.comments.dislike.onSuccess",function(n,o,m){var p=DISQUS.jsonData.posts[n].dislikes,q=m==-1,l=m!==0;DISQUS.extend(DISQUS.jsonData.posts[n],{user_voted:l,down_voted:q,dislikes:q?p+1:p-1,points:o});j.fire("comments.dislike.onLoadingEnd",n);j.fire("comments.dislike.onSuccess",n,o)});b("comments.like.loading","= 1.0",function(o){var m=DISQUS.nodes.get("#dsq-like-"+o);var n=DISQUS.nodes.get("button",m)[0];n.style.display="none";var l=document.createElement("img");l.src=DISQUS.jsonData.settings.media_url+"/images/loading-small.gif";m.appendChild(l)});b("comments.like.onLoadingStart","= 1.0",function(l){j.fire("comments.like.loading",l)});b("comments.like.onLoadingStart",">= 1.1",function(l){});b("comments.like.onLoadingEnd",function(l){});b("comments.like",function(n,q){var l=+!DISQUS.jsonData.posts[q].up_voted,m=DISQUS.jsonData,p=DISQUS.comm.Default.recover().api,o=DISQUS.dtpl.actions.fire;if(m.request.is_authenticated||m.forum.allow_anon_votes){o("comments.like.onLoadingStart",q);if(!m.context.switches.embedapi){DISQUS.request.get(m.urls.embed_vote,{post_id:q,vote:l},true);return}p("posts","vote",{post:q,vote:l},"POST",function(s){var r=s.post;o("__.comments.like.onSuccess",r.id,r.points,l);o("comments.like.updateCache",r.id,r.points,l)})}else{o("auth.disqus",DISQUS.strings.get("To like please login"))}});b("comments.like.updateCache",function(n,m,l){DISQUS.jsonData.posts[n].up_voted=!!l});b("comments.like.onSuccess",">= 1.1",function(m,l){});b("comments.like.onSuccess","= 1.0",function(p,o,m){var n=DISQUS.nodes.get("#dsq-like-pts-"+p);var l=DISQUS.jsonData.posts[p].user_voted;if(!l){successText=o+DISQUS.strings.pluralize(o," person"," people")}else{successText=" and "+(o-1||1)+" more"}if(n){n.innerHTML=successText}DISQUS.nodes.get("#dsq-like-"+p).innerHTML=DISQUS.strings.get("You liked this.")+"&nbsp;&nbsp;"});b("__.comments.like.onSuccess",function(n,m,l){j.fire("comments.like.onLoadingEnd",n);j.fire("comments.like.onSuccess",n,m,l)});b("comments.report",function(o,n){var m=DISQUS.comm.Default.recover().api;function l(){DISQUS.popup.popModal(DISQUS.strings.get("Thank you. This comment has been flagged for moderator attention."),DISQUS.strings.get("Successfully flagged"));DISQUS.nodes.remove(DISQUS.nodes.get("#dsq-post-report-"+o))}if(n){m("posts","report",{post:o},"POST",l)}else{DISQUS.popup.popModal(DISQUS.renderBlock("reportConfirmation",{id:o}),DISQUS.strings.get("Are you sure you would like to report this comment to a moderator?"),o)}});b("comments.reply",function(m,l){if(!DISQUS.cache.toggledReplies[m]){DISQUS.dtpl.actions.fire("comments.reply.new",m,l);DISQUS.cache.toggledReplies[m]=true}else{DISQUS.dtpl.actions.fire("comments.reply.cancel",m,l);DISQUS.cache.toggledReplies[m]=false}});b("comments.reply.new",function(n,l){var m=DISQUS.comm.Reply.recover(n);if(!m){j.fire("comments.reply.render",n)}j.fire("comments.reply.show",n)});b("comments.reply.new.onLoadingStart",function(l){});b("comments.reply.new.onLoadingEnd",function(l){});b("comments.reply.render",function(m){var l=DISQUS.renderBlock("postbox",{comment:DISQUS.jsonData.posts[m]});e.ReplyBox.create(m,l)});b("comments.reply.show",function(o){var m=e.ReplyBox.get(o);m.show();var l=m.container();DISQUS.nodes.addClass(l,"dsq-append-post");var n=DISQUS.nodes.get("#dsq-comment-footer-reply-"+o);if(n){DISQUS.nodes.addClass(n,"dsq-comment-footer-reply-active")}m.focus()});b("comments.reply.cancel",function(p,m){var n=e.ReplyBox.get(p);n.hide();var l=n.container();DISQUS.nodes.removeClass(l,"dsq-append-post");var o=DISQUS.nodes.get("#dsq-comment-footer-reply-"+p);if(o){DISQUS.nodes.removeClass(o,"dsq-comment-footer-reply-active")}});b("comments.moderate.options",function(m){var l=DISQUS.jsonData.posts[m];l.author=DISQUS.jsonData.users[l.user_key];if(!DISQUS.jsonData.request.is_moderator){return}DISQUS.popup.popModal(DISQUS.renderBlock("moderateOptionsPopup",{comment:l}),DISQUS.strings.get("Moderate Options"),m)});b("comments.delete",function(o){function l(p){DISQUS.each(p,function(q){j.fire("comments.delete.onSuccess",q.id)})}function m(q,p){var s=DISQUS.strings.get("Oops, something went wrong"),r=DISQUS.strings.get("We couldn't delete this post. Please try again later.");DISQUS.popup.popModal(r,s,o)}DISQUS.popup.close(null,true);var n=DISQUS.comm.Default.recover();n.api("posts","remove",{post:o},"POST",l,m)});b("comments.delete.onSuccess","= 1.0",function(l){if(DISQUS.nodes.get("#comment-"+l)&&DISQUS.nodes.get("#dsq-comment-"+l)){DISQUS.nodes.get("#comment-"+l).innerHTML=DISQUS.strings.get("Comment removed.")+' <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'comments.restore\', '+l+');">'+DISQUS.strings.get("Undo")+"</a>";DISQUS.nodes.get("#comment-"+l).className="dsq-remove-message";DISQUS.nodes.get("#dsq-comment-"+l).style.display="none"}});b("comments.delete.onSuccess",">= 1.1",function(l){});b("comments.restore",function(n){function l(o){DISQUS.each(o,function(p){j.fire("comments.restore.onSuccess",p.id)})}var m=DISQUS.comm.Default.recover();m.api("posts","restore",{post:n},"POST",l)});b("comments.restore.onSuccess","= 1.0",function(l){if(DISQUS.nodes.get("#comment-"+l)&&DISQUS.nodes.get("#dsq-comment-"+l)){DISQUS.nodes.get("#comment-"+l).innerHTML="";DISQUS.nodes.get("#comment-"+l).className="";DISQUS.nodes.get("#dsq-comment-"+l).style.display="block"}});b("comments.restore.onSuccess",">= 1.1",function(l){});b("cookies.onFailure",function(q){DISQUS.states.noThirdPartyCookies=true;if(DISQUS.browser.ie){DISQUS.states.useLoginWindow=true}else{if(DISQUS.browser.gecko||DISQUS.browser.opera){var r=DISQUS.jsonData.request.is_authenticated;var n=DISQUS.jsonData.request.is_remote;var s=q?"-"+q:"";var p,l;if(!DISQUS.browser.gecko||(r&&!n)){return}DISQUS.states.loginDisabled=true;j.fire("comments.reply.onCookieFailure",q)}else{if(DISQUS.browser.webkit&&DISQUS.jsonData.request.is_sso){var m=DISQUS.nodes.get("#dsq-sso-iframe");if(m){return}m=document.createElement("div");m.id="dsq-sso-iframe";m.style.display="none";var t=DISQUS.nodes.get("body")[0];t.appendChild(m);var o=DISQUS.comm.SSO.create(function(){o.authenticate(DISQUS.jsonData.forum.url,DISQUS.config.page.remote_auth_s2)})}}}});b("user.newUser.onSuccess",function(){b("comments.insert",function(){if(DISQUS.blocks.editProfileSuggestion){var n=document.createElement("div");n.innerHTML=DISQUS.renderBlock("editProfileSuggestion");var m=DISQUS.nodes.get("#dsq-comments");var l=DISQUS.nodes.get(".dsq-comment",m);m.insertBefore(n,l);(new DISQUS.ManualTooltip(DISQUS.nodes.get(".dsq-avatar")[0],{contentId:"dsq-edit-profile-suggestion",trigger:null})).show()}j.remove("comments.insert",arguments.callee);return true})});b("user.remoteAccountSettings",function(){var m=DISQUS.nodes.createIframe(DISQUS.jsonData.urls.remote_settings,{},{id:"dsq-popup-account-settings"});var l=document.createElement("div");l.appendChild(m);DISQUS.popup.popModal(l.innerHTML,DISQUS.strings.get("Account Settings"))});b("profile.show",function(l,n,m){return DISQUS.popup.popProfile(l,n,m)});b("profile.dashboard",function(){window.location.href="http://disqus.com/dashboard"});b("profile.edit",function(){var l=new DISQUS.ui.ProfileEditModal();l.open()});b("profile.displayDeferredAvatars",function(){var q=DISQUS.nodes.get("img.dsq-deferred-avatar");var r=[];for(var p=0;p<q.length;p++){if(q[p].offsetParent){r.push(q[p])}}if(!r.length){return}var m,o,n,l;if(!DISQUS.browser.ie){m=window.pageYOffset;o=window.pageXOffset;n=window.innerHeight;l=window.innerWidth}else{(function(){var u=document.documentElement;m=u.scrollTop;o=u.scrollLeft;n=u.clientHeight;l=u.clientWidth}())}var s=(function(){var y,x,u=0,z=r.length,A;var w,v;while(u<z){x=parseInt((u+z)/2,10);y=r[x];A=DISQUS.nodes.getPosition(y);height=y.offsetHeight;w=A[1]>=m+n;v=A[1]+y.offsetHeight<=m;if(v){u=x+1}else{if(w){z=x}else{return x}}}return -1})();if(s===-1){return}function t(v){var w=r[v];var x=DISQUS.nodes.getPosition(w);var u=w.offsetHeight;if(x[1]<(m+n)&&(x[1]+w.offsetHeight)>m){w.setAttribute("src",w.getAttribute("data-src"));DISQUS.nodes.removeClass(w,"dsq-deferred-avatar");w.removeAttribute("data-src");return true}return false}for(p=s;p>=0&&t(p);p--){}for(p=s+1;p<r.length&&t(p);p++){}});function a(l){var m=function(n){return"#"+l+(n?"-"+n:"")};m.toString=function(){return m()};return m}b("thread.initialize",function(){if(DISQUS.jsonData.forum.template.api=="1.1"){DISQUS.extend(e,{APPEND_REPLY_ID:a("dsq-append-reply"),APPEND_EDIT_ID:a("dsq-append-edit"),APPEND_COMMENT_ID:a("dsq-append-post")})}else{DISQUS.extend(e,{APPEND_REPLY_ID:a("dsq-append-post"),APPEND_EDIT_ID:a("dsq-comment-body"),APPEND_COMMENT_ID:a("dsq-append-post")})}if(DISQUS.jsonData.context.forum_facebook_key){DISQUS.FB.init()}j.fire("toolbar.initialize");DISQUS.dtpl.actions.fire("profile.displayDeferredAvatars");DISQUS.events.debounce(window,"scroll",function(){DISQUS.dtpl.actions.fire("profile.displayDeferredAvatars")},250);if(!DISQUS.jsonData.context.show_reply){return}DISQUS.comm.Reply.reset();e.ReplyBox.create();if(DISQUS.jsonData.realtime_enabled&&j.registered("realtime.initialize")){j.fire("realtime.initialize")}var m=document.createElement("div");m.innerHTML=DISQUS.renderBlock("pageInfo");var l=DISQUS.nodes.get("#disqus_thread");l.appendChild(m);DISQUS.ui.truncateComments(l);DISQUS.cache.toggledReplies={}});b("thread.ready",function(){setTimeout(function(){j.fire("profile.displayDeferredAvatars");DISQUS.ui.applyTooltips()},0);DISQUS.defer(function(){var l=DISQUS.comm.Reply.recover();return DISQUS.comm.Default.recover().isReady&&(typeof l=="undefined"||l.isReady)},function(){DISQUS.trigger("thread.onReady")})});b("thread.incrementCommentsCount",function(){var m=DISQUS.nodes.get("#dsq-num-posts");var n=DISQUS.nodes.get("#dsq-total-posts");if(m){var l=m.innerHTML.split("-");if(l.length==1){m.innerHTML=parseInt(l[0],10)+1}else{m.innerHTML=l[0]+"-"+(parseInt(l[1],10)+1)}}if(n){n.innerHTML=parseInt(n.innerHTML,10)+1}});b("thread.paginate",function(n,m,l){var o;o={slug:DISQUS.jsonData.thread.slug,p:n};if(typeof l=="undefined"){l=DISQUS.config.page.per_page}if(DISQUS.config.page.sort){o.sort=DISQUS.config.page.sort}if(typeof l!="undefined"){o.per_page=l}DISQUS.dtpl.actions.fire("thread.paginate.onLoadingStart");if(m){m.style.display="none"}DISQUS.request.get(DISQUS.jsonData.urls.embed_thread,o,true)});b("thread.paginate.onLoadingStart","= 1.0",function(){if(DISQUS.jsonData.thread.pagination_type=="num"){DISQUS.window.anchor("disqus_thread");DISQUS.nodes.get("#dsq-comments").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+'/images/loading.gif"/>'}else{DISQUS.nodes.get("#dsq-pagination").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+'/images/loading-small.gif"/>'}});b("thread.paginate.onLoadingStart",">= 1.1",function(){});b("thread.paginate.onLoadingEnd",function(){});b("thread.update",function(){var r=DISQUS.nodes.get("#dsq-comments");var n=DISQUS.nodes.get("#dsq-num-posts");var m=DISQUS.nodes.get("#dsq-pagination");var s;var p=DISQUS.jsonData.thread.num_posts;var q;function o(){if(n){return parseInt(n.innerHTML,10)}return 0}function l(t){if(n){n.innerHTML=t}}if(DISQUS.jsonData.thread.pagination_type=="num"){r.innerHTML=DISQUS.renderBlock("comments");DISQUS.ui.applyTooltips(r);if(DISQUS.jsonData.thread.total_posts>p){q=DISQUS.jsonData.thread.offset_posts;l((q+1)+"-"+(q+p))}else{l(p)}}else{if(DISQUS.jsonData.thread.pagination_type=="append"){if(DISQUS.jsonData.request.page==1){r.innerHTML=DISQUS.renderBlock("comments");l(p)}else{s=document.createElement("div");s.innerHTML=DISQUS.renderBlock(function(t,v){var u="";DISQUS.each(t.comments,function(w){u+=DISQUS.renderBlock("comment",{comment:w})});return u});r.appendChild(s);DISQUS.ui.applyTooltips(s);l(o()+p)}}}m.innerHTML=DISQUS.renderBlock("pagination");DISQUS.trigger("thread.onPaginate");DISQUS.ui.truncateComments(r);DISQUS.dtpl.actions.fire("profile.displayDeferredAvatars");DISQUS.dtpl.actions.fire("thread.paginate.onLoadingEnd")});b("thread.sort.onLoadingStart","= 1.0",function(l){DISQUS.nodes.get("#dsq-comments").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+'/images/loading.gif"/>'});b("thread.sort.onLoadingStart",">= 1.1",function(l){});b("thread.sort.onLoadingEnd",function(l){});b("thread.sort",function(l){var m;if(!/hot|best|newest|oldest|highlighted/.test(l)){return}m={slug:DISQUS.jsonData.thread.slug,sort:l,p:1};DISQUS.dtpl.actions.fire("thread.sort.onLoadingStart");DISQUS.request.get(DISQUS.jsonData.urls.embed_thread,m,true)});b("thread.subscribe",function(m){var l=DISQUS.jsonData.urls.embed_subscribe;var n=DISQUS.jsonData.request;if((n.is_authenticated&&n.email)||m){if(m){DISQUS.popup.close(null,true)}DISQUS.request.get(l,{status:1,slug:DISQUS.jsonData.thread.slug,email:m||""},true)}else{if(!m){DISQUS.popup.popModal(DISQUS.renderBlock("subscribeForm"),DISQUS.strings.get("Get notified of new comments by email"))}}});b("__.thread.subscribe.onChange",function(l){var m=!!parseInt(l,10);DISQUS.jsonData.context.subscribed=m;if(m){j.fire("thread.subscribe.onSuccess")}else{j.fire("thread.unsubscribe.onSuccess")}});b("thread.subscribe.onSuccess","= 1.0",function(){var m=DISQUS.strings.get("Subscribed");var l=DISQUS.strings.get("You have subscribed to this comment thread. New comments will be sent directly to your email inbox, where you may read and respond by email.");DISQUS.nodes.get("#dsq-subscribe").innerHTML='<a href="#" onclick="return DISQUS.dtpl.actions.fire(\'thread.unsubscribe\');">'+DISQUS.strings.get("Unsubscribe")+"</a>";DISQUS.popup.popModal(l,m)});b("thread.subscribe.onSuccess",">= 1.1",function(){});b("thread.unsubscribe",function(){var l=DISQUS.jsonData.urls.embed_subscribe;if(DISQUS.jsonData.request.is_authenticated){DISQUS.request.get(l,{status:0,slug:DISQUS.jsonData.thread.slug},true)}});b("thread.unsubscribe.onSuccess","= 1.0",function(){var m=DISQUS.strings.get("Unsubscribed");var l=DISQUS.strings.get("You have unsubscribed from this comment thread. New comments will no longer be sent to your email inbox.");DISQUS.nodes.get("#dsq-subscribe").innerHTML='<a href="#" onclick="return DISQUS.dtpl.actions.fire(\'thread.subscribe\');">'+DISQUS.strings.get("Subscribe by email")+"</a>";DISQUS.popup.popModal(l,m)});b("thread.unsubscribe.onSuccess",">= 1.0",function(){});b("thread.vote",function(m){var n=DISQUS.jsonData,o=DISQUS.comm.Default.recover().api;function l(s,r){var t=DISQUS.nodes;if(t.hasClass(s,"dsq-toggled")){m=0;t.removeClass(s,"dsq-toggled");t.removeClass(r,"dsq-toggled")}else{t.addClass(s,"dsq-toggled");t.removeClass(r,"dsq-toggled")}}if(n.request.is_authenticated||n.forum.allow_anon_votes){var q=DISQUS.nodes.get("#dsq-like-thread-button"),p=DISQUS.nodes.get("#dsq-dislike-thread-button");if(m>0){l(q,p)}else{l(p,q)}if(!n.context.switches.embedapi){DISQUS.request.get(n.urls.embed_thread_vote,{thread_id:n.thread.id,vote:m},true);return}else{o("threads","vote",{thread:n.thread.id,vote:m},"POST",function(r){DISQUS.dtpl.actions.fire("thread.vote.onSuccess",m,r.thread.likes)})}}else{DISQUS.dtpl.actions.fire("auth.disqus",DISQUS.strings.get("To like please login"))}});b("thread.vote.onSuccess",function(p,o){if(p>0){j.fire("thread.share.new")}else{j.fire("thread.share.cancel")}DISQUS.jsonData.thread.user_vote=p;DISQUS.jsonData.thread.likes=o;if(DISQUS.jsonData.request.is_authenticated){var q=DISQUS.jsonData.request.username;if(p==1){var n={};n[q]={username:q,avatar:DISQUS.jsonData.urls.request_user_avatar,url:DISQUS.jsonData.urls.request_user_profile,name:DISQUS.jsonData.request.display_username};DISQUS.jsonData.thread.voters=DISQUS.lang.extend(n,DISQUS.jsonData.thread.voters)}else{delete DISQUS.jsonData.thread.voters[q]}}if(DISQUS.db.available()){votingData=DISQUS.db.get("thread_votes")||{};votingData[DISQUS.jsonData.thread.id]={value:p,timestamp:DISQUS.jsonData.request.timestamp};DISQUS.db.set("thread_votes",votingData)}var m=DISQUS.nodes.get("#dsq-content");var l=DISQUS.nodes.get("ul.dsq-like-faces",m)[0];if(l){l.innerHTML=DISQUS.renderBlock("likeActivity");DISQUS.ui.applyTooltips(l)}});b("thread.help",function(){if(!DISQUS.jsonData.request.is_moderator){return}DISQUS.popup.popModal(DISQUS.renderBlock("moderatorHelpPopup"),DISQUS.strings.get("Help"))});b("thread.settings",function(){if(!DISQUS.jsonData.request.is_moderator){return}DISQUS.popup.popModal(DISQUS.renderBlock("threadSettingsPopup"),DISQUS.strings.get("Moderator Settings"))});b("thread.moderatorActions",function(){if(!DISQUS.jsonData.request.is_moderator){return}DISQUS.popup.popModal(DISQUS.renderBlock("moderatorActionsPopup"),DISQUS.strings.get("Moderate Options"))});b("thread.close",function(){var m=DISQUS.comm.Default.recover().api,l=DISQUS.jsonData,n={forum:l.forum.url,thread:l.thread.id};m("threads","close",n,"POST",function(){DISQUS.ui.Modal.closeAll();DISQUS.reload(function(){DISQUS.redraw()})})});b("thread.open",function(){var m=DISQUS.comm.Default.recover().api,l=DISQUS.jsonData,n={forum:l.forum.url,thread:l.thread.id};m("threads","open",n,"POST",function(){DISQUS.ui.Modal.closeAll();DISQUS.reload(function(){DISQUS.redraw()})})});b("thread.updateModerationSettings",function(n){var m=DISQUS.comm.Default.recover().api,l=DISQUS.jsonData,o={forum:l.forum.url,thread:l.thread.id};DISQUS.extend(o,n);m("threads","updateModerationSettings",o,"POST",function(p){DISQUS.dtpl.actions.fire("thread.updateModerationSettings.onSuccess",p)})});b("thread.updateModerationSettings.onSuccess",function(l){});b("thread.updateDaysAlive",function(){var n=DISQUS.jsonData,m=n.urls.update_days_alive,l=DISQUS.nodes.get("#dsq-thread-settings-status"),o=DISQUS.nodes.get("#dsq-thread-days-alive").value;if(n.context.switches.embedapi){DISQUS.dtpl.actions.fire("thread.updateModerationSettings",{lifespan:o})}else{DISQUS.request.post(m,{days:o,thread:n.thread.id})}l.innerHTML=DISQUS.strings.get("Saved!");setTimeout(function(){l.innerHTML=""},1000)});b("thread.updateModerateAll",function(){var n=DISQUS.jsonData,m=n.urls.update_moderate_all,l=DISQUS.nodes.get("#dsq-thread-settings-status"),o=+(!!DISQUS.nodes.get("#dsq-thread-moderate-all").checked);if(n.context.switches.embedapi){DISQUS.dtpl.actions.fire("thread.updateModerationSettings",{moderate:o})}else{DISQUS.request.post(m,{value:o,thread:n.thread.id})}l.innerHTML=DISQUS.strings.get("Saved!");setTimeout(function(){l.innerHTML=""},1000)});b("thread.expandMediaEmbed",function(m){var l;DISQUS.lang.forEach(DISQUS.jsonData.mediaembed,function(n){if(n.id!=m){return}l=n});DISQUS.popup.popModal(DISQUS.renderBlock("mediaEmbedPopup",{media:l}),DISQUS.strings.get("Attached File"),null,true,"dsq-media-embed")});b("thread.share.send",function(){if(!h){return}var q=DISQUS.nodes.get("#dsq-share-thread-twitter"),l=DISQUS.nodes.get("#dsq-share-thread-facebook"),p={facebook:l&&l.checked,twitter:q&&q.checked};if(p.twitter&&p.facebook){return}var o=DISQUS.nodes.get("#dsq-share-step-1");DISQUS.nodes.hide(o,true);var n=DISQUS.nodes.get("#dsq-share-step-2");DISQUS.nodes.show(n,true);h.reposition();g=[];var m,r={};if(DISQUS.jsonData.request.is_authenticated){m=DISQUS.jsonData.request.sharing;r={tw:+(p.twitter&&m.twitter.enabled),fb:+(p.facebook&&m.facebook.enabled&&!DISQUS.jsonData.request.is_remote)}}if(r.tw||r.fb){g.push(function(){DISQUS.request.get(DISQUS.jsonData.urls.embed_thread_share,DISQUS.lang.extend({},r,{title:document.title,thread:DISQUS.jsonData.thread.id}),true)})}if(p.facebook&&!r.fb){g.push(function(){var s=window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(window.location),"_blank","width=600,height=400");DISQUS.addJob(function(){return !s||s.closed},function(){DISQUS.dtpl.actions.fire("thread.share.nextJob")})})}if(p.twitter&&!r.tw){g.push(function(){var s='<div id="dsq-tweetbox-container" style="width:520px;height:160px"></div>';DISQUS.popup.popModal(s,"Share on Twitter",null,null,null,{onClose:function(){DISQUS.dtpl.actions.fire("thread.share.nextJob")},onReady:function(){var t=DISQUS.nodes.get("#dsq-tweetbox-container");var u=new DISQUS.TweetFrame(t,{onReady:function(){u.setContent(document.title+": "+window.location)},onSuccess:function(){DISQUS.popup.close(null,true);DISQUS.dtpl.actions.fire("thread.share.nextJob")}});u.init()}})})}DISQUS.dtpl.actions.fire("thread.share.nextJob")});b("thread.share",function(){j.fire("thread.share.send")});b("thread.share.new",function(){if(!h){return}var l=DISQUS.nodes.get("div.dsq-share-step",h.container);DISQUS.lang.forEach(l,function(m){m.style.display="none"});l[0].style.display="block";h.show()});b("thread.share.cancel",function(){if(!h){return}h.hide()});b("thread.share.nextJob",function(l){if(!h){return}if(l){DISQUS.FB.init(function(){DISQUS.FB.streamShare("",l,function(){DISQUS.dtpl.actions.fire("thread.share.nextJob")})});return}if(g.length){g.shift()()}else{DISQUS.dtpl.actions.fire("thread.share.onSuccess")}});b("thread.share.onSuccess",function(l){if(!h){return}var n=DISQUS.nodes.get("#dsq-share-step-2");DISQUS.nodes.hide(n,true);var m=DISQUS.nodes.get("#dsq-share-step-3");DISQUS.nodes.show(m,true);h.reposition()});b("thread.share.onFailure",function(){if(!h){return}var l=DISQUS.nodes.get("#dsq-share-step-3");DISQUS.nodes.hide(l,true);var m=DISQUS.nodes.get("#dsq-share-step-2");DISQUS.nodes.show(m,true);h.reposition()});b("realtime.initialize",function(){var l=DISQUS.nodes.get("#dsq-realtime-toggle");if(DISQUS.states.realtime||!l){return}DISQUS.states.realtime=true;DISQUS.cache.realtime.last_checked=DISQUS.jsonData.request.timestamp;l.onclick=function(){if(!DISQUS.cache.realtime.interval){j.fire("realtime.enable")}else{j.fire("realtime.disable")}return false};if(!DISQUS.jsonData.forum.streaming_realtime){j.fire("realtime.updateCount")}if(DISQUS.jsonData.thread.realtime_rate===0||DISQUS.jsonData.realtime_paused){j.fire("realtime.disable")}else{j.fire("realtime.enable")}});b("realtime.enable",function(){var l=DISQUS.nodes.get("#dsq-realtime-toggle");var m=DISQUS.nodes.get("#dsq-realtime-status");var n=setInterval(function(){var o=DISQUS.cache.realtime,p=DISQUS.jsonData.urls.realtime;p+="?timestamp="+o.last_checked+"&thread_id="+DISQUS.jsonData.thread.id+"&f="+DISQUS.jsonData.forum.url+"&";if(!o.ongoing_request&&DISQUS.jsonData.realtime_enabled){if(o.prev_script&&o.prev_script.parentNode){DISQUS.nodes.remove(o.prev_script)}o.ongoing_request=true;o.prev_script=DISQUS.request.get(p,undefined,true)}},DISQUS.jsonData.context.realtime_speed);DISQUS.cache.realtime.interval=n;m.innerHTML=DISQUS.strings.get("enabled");l.innerHTML="("+DISQUS.strings.get("Pause")+")"});b("realtime.disable",function(){var l=DISQUS.nodes.get("#dsq-realtime-toggle");var m=DISQUS.nodes.get("#dsq-realtime-status");var n=DISQUS.cache.realtime.interval;if(n){clearInterval(n);DISQUS.cache.realtime.interval=null}m.innerHTML=DISQUS.strings.get("paused");l.innerHTML="("+DISQUS.strings.get("Resume")+")"});b("realtime.updateCount",function(){var l=DISQUS.nodes.get("#dsq-content");var o=DISQUS.nodes.get("div.dsq-realtime-alert",l);var n=DISQUS.cache.realtime.newPosts.length;var m=(function(){var q=0;for(var p in DISQUS.jsonData.posts){if(DISQUS.jsonData.posts.hasOwnProperty(p)){if(++q>5){return false}}}return true})();if(m){while(o.length>1){o.pop()}}DISQUS.lang.forEach(o,function(s){s.style.display=n?"block":"none";var q=DISQUS.strings.get("new comment was just posted.");var p=DISQUS.strings.get("new comments were just posted.");if(n>1){s.innerHTML=n+" "+p+" "}else{s.innerHTML=n+" "+q+" "}var r=document.createElement("A");r.href="#";DISQUS.events.add(r,"click",function(t){t.preventDefault();return j.fire("realtime.show")});r.innerHTML=DISQUS.strings.get("Show");s.appendChild(r)})});b("realtime.insertNewPosts",function(){var l=null;var m=DISQUS.nodes.get("#dsq-sort-select");if(!m&&DISQUS.jsonData.request.sort==4||m&&m.value=="oldest"){l=-1}DISQUS.lang.forEach(DISQUS.cache.realtime.newPosts,function(o){j.fire("comments.insert",l,o,DISQUS.jsonData.posts[o].message);j.fire("thread.incrementCommentsCount");j.fire("comments.outline",o)});if(!DISQUS.jsonData.forum.streaming_realtime){if(!l){DISQUS.nodes.scrollTo("#disqus_thread")}else{var n=DISQUS.nodes.get(".dsq-comment",DISQUS.nodes.get("#disqus_thread"));DISQUS.nodes.scrollTo(n[n.length-1])}}DISQUS.cache.realtime.newPosts=[]});b("realtime.show",function(){j.fire("realtime.insertNewPosts");j.fire("realtime.updateCount")});b("realtime.update",function(n,m,o){var l=DISQUS.cache.realtime;l.ongoing_request=null;l.last_checked=n;if(o){DISQUS.lang.forEach(o,function(p,q){if(!DISQUS.jsonData.users[q]){DISQUS.jsonData.users[q]=p}})}if(m){DISQUS.lang.forEach(m,function(p,q){if(!DISQUS.jsonData.posts[q]){DISQUS.jsonData.posts[q]=p;l.newPosts.push(q)}});if(DISQUS.jsonData.forum.streaming_realtime){j.fire("realtime.insertNewPosts")}else{j.fire("realtime.updateCount")}}});b("community.show",function(){var l=new DISQUS.ui.ForumCommunityModal();l.open(DISQUS.jsonData.urls.community)});b("reactions.hide",function(n){var l=DISQUS.jsonData,m=DISQUS.comm.Default.recover().api;if(!l.context.switches.embedapi){DISQUS.request.get(DISQUS.jsonData.urls.embed_hidereaction,{reaction_id:n},true);return}m("reactions","remove",{reaction:n},"POST",function(o){DISQUS.dtpl.actions.fire("reactions.hide.onSuccess",o[0].id)})});b("reactions.hide.onSuccess",function(l){DISQUS.nodes.hide(DISQUS.nodes.get("#dsq-reaction-"+l))});b("reactions.loadMore",function(){var l=DISQUS.jsonData.urls.embed_more_reactions;DISQUS.request.get(l,{t:DISQUS.jsonData.thread.id,s:DISQUS.jsonData.reactions_start,l:DISQUS.jsonData.reactions_limit},true)});b("reactions.insert",function(l){var m=DISQUS.nodes.get("#dsq-show-more-reactions");DISQUS.lang.forEach(l,function(p){var o={reaction:p};var q=document.createElement("div");var n=o.reaction.get_service_name;if(n=="trackback"||n=="pingback"){o.reaction.service_icon="rss"}else{o.reaction.service_icon=n.replace(" ","")}q.innerHTML=DISQUS.renderBlock("reaction",o);m.parentNode.insertBefore(q.lastChild,m)});if(!DISQUS.jsonData.has_more_reactions){m.style.display="none"}});b("reactions.reportMissing",function(){var l=DISQUS.jsonData.urls.embed_queueurl;if(!DISQUS.jsonData.request.is_moderator||!DISQUS.jsonData.forum.reactions_enabled){return}if(DISQUS.jsonData.thread.queued){DISQUS.popup.popModal(DISQUS.strings.get("The system will automatically search for new reactions. If any are found, they will displayed on this comment thread."),DISQUS.strings.get("Thank you"));return}DISQUS.request.get(l,{},true)});b("reactions.showRetweets",function(m){var l;DISQUS.lang.forEach(DISQUS.jsonData.reactions,function(n){if(n.id==m){l=n}});DISQUS.popup.popModal(DISQUS.renderBlock("retweetsPopup",{reaction:l}),DISQUS.strings.get("Retweets"))});b("toolbar.initialize",function(){if(!DISQUS.nodes.get("#dsq-global-toolbar")){return}var n=DISQUS.nodes.get("#dsq-like-thread-button");h=new DISQUS.ManualTooltip(n,{trigger:null,contentId:"dsq-like-tooltip"});var q=[DISQUS.nodes.get("#dsq-share-thread-twitter"),DISQUS.nodes.get("#dsq-share-thread-facebook")];var l=function(){var t=this;var s=false;DISQUS.lang.forEach(q,function(u){if(u){s=s||u.checked}});var r=DISQUS.nodes.get(".dsq-primary-action",h.content)[0];if(s){r.removeAttribute("disabled");DISQUS.nodes.removeClass(r,"dsq-tooltip-disabled-button")}else{r.setAttribute("disabled","disabled");DISQUS.nodes.addClass(r,"dsq-tooltip-disabled-button")}};DISQUS.lang.forEach(q,function(r){if(r){DISQUS.events.add(r,"click",l)}});var p=DISQUS.nodes.get("#dsq-dropdown-menu");if(DISQUS.browser.ie6&&p){var m=DISQUS.nodes.get("#dsq-logo-dropdown");var o=DISQUS.nodes.get("a.dsq-dropdown-arrow",m)[0];DISQUS.events.add(o,"click",function(){DISQUS.nodes.toggleClass(o,"dsq-visible");DISQUS.nodes.toggleClass(p,"dsq-visible")});DISQUS.events.add(p,"click",function(s){var r=s.target||s.srcElement;if(DISQUS.nodes.closest(r,".dsq-login-button")){DISQUS.nodes.toggleClass(o,"dsq-visible");DISQUS.nodes.toggleClass(p,"dsq-visible")}})}});b("help.login",function(){DISQUS.popup.popModal(DISQUS.renderBlock("helpLogin"),DISQUS.strings.get("Help: Enabling cookies"))});function c(o,p,n){var m;if(DISQUS.settings.debug){return o.apply({},p)}try{return o.apply({},p)}catch(l){if(m&&m.log){if(n){m.log("Exception in "+n)}m.log(l);if(typeof printStackTrace!=="undefined"){m.log(printStackTrace({e:l}).join("\n"))}}return false}}j.register=function(l,m){f[l]=f[l]||[];m.guid=DISQUS.getGuid();f[l].push(m);return m};j.remove=function(l,m){if(f[l]){if(typeof m==="undefined"){delete f[l];return true}else{DISQUS.lang.forEach(f[l],function(o,n){if(m.guid&&m.guid==o.guid){delete f[l][n];return true}})}}return false};j.fire=function(){var l=arguments[0],p=[],o=true,n=DISQUS.jsonData&&DISQUS.jsonData.forum.template.api;if(typeof l==="object"){n=l[1];l=l[0]}if(!j.registered(l,false,n)){throw"Action "+l+" not found"}p=[];for(var m=1;m<arguments.length;m++){p.push(arguments[m])}if(f[l]){DISQUS.lang.forEach(f[l],function(q){o=o&&!!c(q,p,l)})}if(j.hasDefault(l,n)&&o){c(j.getDefault(l,n),p,l)}return false};j.registered=function(l,n,m){return !!f[l]||(n?false:j.hasDefault(l,m))};j.hasDefault=function(l,m){return !!j.getDefault(l,m)};j.getDefault=function(l,m){m=m||i[i.length-1];if(!d[l]){return false}var n=null;DISQUS.each(d[l],function(r,q){var o=q.match(/(=|>=)\s*([0-9\.]+)/);var p=o[1];ver=o[2];if(p=="="&&m==ver){n=r}else{if(p==">="&&m>=ver){n=r}}});return n};return j}());DISQUS.dtpl.validators=(function(){var a={};a.email=function(c){var b=/^[a-z0-9\-\_\+]+(\.[a-z0-9\-\_\+]+)*\@(([a-z0-9\-\_\+]+(\.[a-z0-9\-\_\+]+)*)+\.[a-z]{2,}|([0-9]+\.){3}[0-9]+)$/i;if(!b.test(c.value)){DISQUS.dtpl.actions.fire("message.error.onField",DISQUS.strings.get("Please enter a valid email to comment."),c.id);return false}return true};a.name=function(b){var c=DISQUS.strings.get("Name");if(b.value==c||b.value.length<=1){DISQUS.dtpl.actions.fire("message.error.onField",DISQUS.strings.get("Please enter a name to comment."),b.id);return false}return true};a.website=function(b){var c=DISQUS.strings.get("Website")+" ("+DISQUS.strings.get("Optional")+")";if(!b||!b.value){return true}else{if(b.value==c){b.value="";return true}}if(b.value.indexOf(".")==-1){DISQUS.dtpl.actions.fire("message.error.onField",DISQUS.strings.get("Please check your website URL (this field is optional)."),b.id);return false}return true};a.guestFields=function(c){var b=c&&typeof c==="object"?c:DISQUS.dtpl.getGuestFields(c);if(DISQUS.jsonData.request.is_authenticated){return true}if(!DISQUS.dtpl.validators.email(b.email)){return false}if(!DISQUS.dtpl.validators.name(b.name)){return false}if(!DISQUS.dtpl.validators.website(b.website)){return false}return true};return a})();DISQUS.modules.dtpl=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}(function(){DISQUS.ReplyFrame=function(a,b){this.frame=null;this.container=a;this.id=b;if(a.id&&a.id.match(/edit/)){this._type="edit"}else{this._type="reply"}};DISQUS.ReplyFrame.prototype={setState:function(b,a){},init:function(a){if(this._type=="edit"){self.frame=DISQUS.comm.Edit.create(this.container.id,this.id)}else{self.frame=DISQUS.comm.Reply.create(this.container.id,this.id)}}};DISQUS.TweetFrame=function(a,b){this.container=a;this.callbacks=b};DISQUS.TweetFrame.prototype={init:function(){this.rpc=DISQUS.comm.Twitter.create(this.container,this.callbacks.onReady,this.callbacks.onSuccess)},setContent:function(a){this.rpc.setContent(a)}}})();DISQUS.modules.compat=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.comm=(function(){var a={};a.ensureLoggedIn=function(e,c,b){var d;b=b||{};if(DISQUS.jsonData.request.is_authenticated){e()}else{switch(c){case"disqus":d=new DISQUS.ui.DisqusLoginBox();break;case"twitter":d=new DISQUS.ui.TwitterLoginBox();break;case"yahoo":d=new DISQUS.ui.YahooLoginBox();break;case"openid":d=new DISQUS.ui.OpenIDLoginBox();break;case"google":d=new DISQUS.ui.GoogleLoginBox();break;case"facebook":if(DISQUS.jsonData.context.forum_facebook_key){d=new DISQUS.ui.PublisherFacebookLoginBox()}else{d=new DISQUS.ui.DefaultFacebookLoginBox()}break;case"sso":d=new DISQUS.ui.SSOLoginBox();break;case"postas":d=new DISQUS.ui.LoginBox(b,{title:"Before we post this, who are you?",guestTab:true});break;default:d=new DISQUS.ui.LoginBox(b);break}d.onClose=function(){if(DISQUS.jsonData.request.is_authenticated){e()}else{if(typeof b.onFailure=="function"){b.onFailure()}}};d.show()}};return a}());(function(){var a={Default:null,Facebook:null,SSO:null,Reply:{},Auth:{},Edit:{},Twitter:{},Upload:{}},k,j;function f(){function m(n){if(n){n.destroy()}}DISQUS.each(a,function(n){if(n===null){return}if(n.origin&&n.destroy){m(n)}else{DISQUS.each(n,m)}});k=j=undefined}var e={};e.create=function(o){if(a.Default!==null){return a.Default}var n;if(DISQUS.settings.debug||!DISQUS.jsonData.context.switches.static_reply_frame){n=DISQUS.jsonData.urls.channels.def}else{n=DISQUS.settings.media_url+"/build/system/def.html#"}var q={remote:n,onReady:function(){p.isReady=true;if(o){o()}}},m={local:{},remote:{api:{},echo:{},enable:{},flushLog:{},log:{},setApiKey:{}}},p=DISQUS.net.rpc(q,m);a.Default=p;return p};e.recover=function(){return a.Default};var d={};d.create=function(m,p){p=p||null;m=m;var n=DISQUS.jsonData.urls.channels.upload;if(DISQUS.jsonData.context.switches.static_reply_frame){n+="#"+DISQUS.serializeArgs({f:k.forum.url,t:k.thread.slug})}var o=new DISQUS.net.rpc({remote:n,container:m,props:{scrolling:"no",allowTransparency:"true"},onReady:function(){o.setupUpload(p||"",DISQUS.jsonData.forum.id,DISQUS.jsonData.thread.id);o.isReady=true}},{local:{onUploadStart:function(){DISQUS.dtpl.actions.fire("__.comments.reply.media.upload",p)},onUpload:function(q){DISQUS.dtpl.actions.fire("__.comments.reply.media.upload.onResponse",q,p)}},remote:{setupUpload:{},media:{}}});a.Upload[p]=o;return o};d.recover=function(m){return a.Upload[m||null]};var b={};b.create=function(){var t=Array.prototype.slice.call(arguments),s=t.length,w=t[s-1];var n=arguments[0];var r=Object.prototype.toString.call(w)=="[object Function]"?w:null;var v=s>0&&t[1]!=r?t[1]:0;v=v||null;var u={};var o=false;if(!(DISQUS.browser.ie&&DISQUS.browser.quirks)&&DISQUS.dtpl.actions.registered("comments.reply.onResize",true)){u.scrolling="no";o=true}if(typeof k=="undefined"){k=DISQUS.jsonData;j=DISQUS.nodes.getBasicStyles()}var m,p={f:k.forum.url,t:k.thread.slug,ff:j.fontFamily,p:DISQUS.config.def_text,upload_media:DISQUS.jsonData.context.switches.upload_media};if(DISQUS.config.absorbStyles){DISQUS.extend(p,{fc:j.fontColor,bg:j.backgroundColor})}if(DISQUS.jsonData.context.switches.static_reply_frame){m=k.urls.channels.reply+"#"+DISQUS.serializeArgs(p)}else{m=DISQUS.getResourceURL(k.urls.channels.reply,p,true)}var q=DISQUS.net.rpc({remote:m,container:n,props:u,onReady:function(){var x=DISQUS.nodes.get(".dsq-iframe-loading",n);if(x.length){n.removeChild(x[0])}var A=k.posts[v]||{};var y=DISQUS.jsonData.forum.id;var z=DISQUS.jsonData.thread.id;q.setState(A.id||null,A.depth===undefined?null:A.depth,y,z);q.isReady=true;if(r){r()}if(DISQUS.browser.ie&&DISQUS.browser.quirks&&this.container){frame=DISQUS.nodes.get("iframe",n)[0];frame.style.width=parseInt(frame.parentNode.offsetWidth,10)+"px"}},appendElement:true},{local:{cookieFailure:function(){DISQUS.dtpl.actions.fire("cookies.onFailure")},resizeFrame:function(x,y){DISQUS.dtpl.actions.fire("comments.reply.onResize",y,x)},onFocus:function(){DISQUS.dtpl.actions.fire("comments.reply.onFocus",v)},onBlur:function(){DISQUS.dtpl.actions.fire("comments.reply.onBlur",v)},onUploadAdd:function(x){DISQUS.dtpl.actions.fire("__.comments.reply.media.upload.onResponse",x,v)},onUploadRemove:function(x){DISQUS.dtpl.actions.fire("__.comments.reply.media.remove.onResponse",x,v)}},remote:{post:{},postAsGuest:{},validate:{},setState:{},focus:{},setupResize:{}}});if(o){q.setupResize()}a.Reply[v]=q;return q};b.recover=function(m){return a.Reply[m||null]};b.reset=function(){a.Reply={}};var c={};c.create=function(n,m,r){if(typeof k=="undefined"){k=DISQUS.jsonData;j=DISQUS.nodes.getBasicStyles()}var o=DISQUS.getResourceURL(k.urls.channels.edit,{f:k.forum.url,t:k.thread.slug,p:m,ff:j.fontFamily},true);var s=DISQUS.net.rpc({remote:o,container:n,onReady:function(){s.isReady=true;if(r){r()}}},{local:{},remote:{save:{},focus:{}}});a.Edit[m]=s;var q=DISQUS.nodes.get("#dsq-edit-textarea-"+m);if(q){q.style.display="none";var p=DISQUS.nodes.get("#dsq-edit-iframe-"+m);if(p){p.style.display="block";q.parentNode.appendChild(p)}}return s};c.recover=function(m){return a.Edit[m]};var g={};g.create=function(m,o,p){if(typeof k=="undefined"){k=DISQUS.jsonData;j=DISQUS.nodes.getBasicStyles()}var r={f:k.forum.url,t:k.thread.slug,to_redirect:window.location,cbp:DISQUS.config.callback_params,ff:j.fontFamily,fc:j.fontColor,ac:j.anchorColor};if(DISQUS.config.frame_theme){r.theme=DISQUS.config.frame_theme}var n=DISQUS.getResourceURL(k.urls.channels.auth,r,true);var q=DISQUS.net.rpc({remote:n,onReady:function(){q.isReady=true;if(p){p()}},container:m},{local:{onAuth:function(s){if(!DISQUS.states.loginDisabled){DISQUS.reload(function(){o(s)})}else{DISQUS.popup.close(null,true)}}},remote:{focus:{}}});a.Auth.def=q;return q};g.recover=function(){return a.Auth.def};var i={};i.create=function(n,o,m){var p=DISQUS.net.rpc({remote:DISQUS.jsonData.urls.channels.tweetbox,container:n,onReady:function(){p.isReady=true;if(o){o()}}},{local:{onTweet:function(){if(m){m()}}},remote:{setContent:{}}});a.Twitter=p;return p};i.recover=function(){return a.Twitter};var l={};l.create=function(m,n){var o=DISQUS.net.rpc({remote:DISQUS.jsonData.urls.channels.facebook,container:m,onReady:function(){o.isReady=true;if(n.onReady){n.onReady()}}},{local:{onSuccess:function(){if(n.onSuccess){n.onSuccess()}},onBusy:function(){if(n.onBusy){n.onBusy()}}},remote:{authenticatePublisherSession:{},authenticatePublicSessionData:{},init:{},streamPublish:{}}});a.Facebook=o;return o};l.recover=function(){return a.Facebook};var h={};h.create=function(n,m){var o=DISQUS.net.rpc({remote:DISQUS.jsonData.urls.channels.sso,onReady:function(){o.isReady=true;if(n!==undefined){n()}}},{local:{onSuccess:function(){if(m!==undefined){m()}}},remote:{authenticate:{}}});a.SSO=o;return o};h.recover=function(){return a.SSO};DISQUS.lang.extend(DISQUS.comm,{Default:e,Reply:b,Auth:g,Edit:c,Twitter:i,Facebook:l,SSO:h,reset:f,Upload:d});DISQUS.TweetFrame=function(m,n){var o=i.create(m,n.onReady,n.onSuccess);this.init=function(){};this.setContent=function(p){o.setContent(p)}};return self}());DISQUS.modules.api=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.sso=(function(){var a={};a.auth=function(c){var b=DISQUS.comm.SSO.create(function(){b.authenticate(c.forum,c.hash)},function(){if(c.onSuccess){c.onSuccess()}})};return a})();DISQUS.modules.sso=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.ui=(function(){var a={};a.ContentBase=function(b,c){this.opts=c||{};this.container=DISQUS.nodes.get("#"+b)};a.ContentBase.prototype={show:function(){DISQUS.nodes.show(this.container,true);var b=DISQUS.nodes.get("input",this.container);if(b.length&&!this.opts.noAutoFocus){b[0].focus()}},hide:function(){DISQUS.nodes.hide(this.container,true)}};a.GuestLoginContent=function(h,f,e){var g=h?"-"+h:"";a.ContentBase.call(this,"dsq-login-guest"+g,e);function c(k){var m,j="";if(k){m=k.split("@")[0].split(".");for(var l=0;l<m.length;l++){j+=m[l].charAt(0).toUpperCase()+m[l].slice(1)+" "}return DISQUS.lang.trim(j)}}DISQUS.events.add(DISQUS.nodes.get("#dsq-field-email"+g),"keyup",function(j){var k=j.target||j.srcElement;var i=c(k.value);if(i){DISQUS.nodes.get("#dsq-field-name"+g).value=i}});var d=DISQUS.nodes.get("a",DISQUS.nodes.get(".dsq-login-add-url")[0])[0];if(d){DISQUS.events.add(d,"click",function(i){DISQUS.nodes.hide(d.parentNode.parentNode,true);DISQUS.nodes.show(DISQUS.nodes.get("#dsq-optional-field-website"),true);i.preventDefault()})}var b=DISQUS.nodes.get("#dsq-submit-guest"+g);DISQUS.events.add(b,"click",function(){if(DISQUS.dtpl.validators.guestFields(h)){f(this)}})};DISQUS.lang.extend(a.GuestLoginContent.prototype,a.ContentBase.prototype);a.DisqusLoginContent=function(f,d){var b=this;var e="dsq-login-disqus";if(!f){f=e}else{if(parseInt(f,10)){f=e+"-"+f}}a.ContentBase.call(b,f);b.iframeReady=false;b.focusOnReady=false;var c=DISQUS.comm.Auth.create(b.container,d,function(){b.iframeReady=true;if(b.focusOnReady){c.focus()}})};DISQUS.lang.extend(a.DisqusLoginContent.prototype,a.ContentBase.prototype,{show:function(){a.ContentBase.prototype.show.call(this);if(!this.iframeReady){this.focusOnReady=true}else{if(!this.noAutoFocus){var b=DISQUS.comm.Auth.recover();b.focus()}}}});a.DefaultFacebookLoginContent=function(d,b){b=b||"dsq-login-facebook-content";a.ContentBase.call(this,b);var c=this;var e=DISQUS.nodes.get("#dsq-login-facebook-frame");c.rpc=DISQUS.comm.Facebook.create(e,{onReady:function(){c.rpc.init()},onBusy:function(){DISQUS.nodes.get(".dsq-connect-msg",c.container)[0].style.display="none";DISQUS.nodes.get(".dsq-remote-authentication",c.container)[0].style.display="block"},onSuccess:function(){DISQUS.reload(function(){d.close()})}})};DISQUS.lang.extend(a.DefaultFacebookLoginContent.prototype,a.ContentBase.prototype);a.ExternalLoginContent=function(c,d){a.ContentBase.call(this,"dsq-login-"+d);var b=this;launcher=DISQUS.nodes.get(".dsq-external-launcher",this.container)[0];DISQUS.events.add(launcher,"click",function(){var e={onFailure:function(){DISQUS.nodes.hide(DISQUS.nodes.get(".dsq-remote-authentication",b.container)[0],true);DISQUS.nodes.show(DISQUS.nodes.get(".dsq-connect-msg",b.container)[0],true)}};DISQUS.nodes.hide(DISQUS.nodes.get(".dsq-connect-msg",b.container)[0],true);DISQUS.nodes.show(DISQUS.nodes.get(".dsq-remote-authentication",b.container)[0],true);DISQUS.comm.ensureLoggedIn(function(){c.close()},d,e)})};DISQUS.lang.extend(a.ExternalLoginContent.prototype,a.ContentBase.prototype);a.YahooLoginContent=function(b){a.ExternalLoginContent.call(this,b,"yahoo")};DISQUS.lang.extend(a.YahooLoginContent.prototype,a.ExternalLoginContent.prototype);a.TwitterLoginContent=function(b){a.ExternalLoginContent.call(this,b,"twitter")};DISQUS.lang.extend(a.TwitterLoginContent.prototype,a.ExternalLoginContent.prototype);a.PublisherFacebookLoginContent=function(b){a.ExternalLoginContent.call(this,b,"facebook")};DISQUS.lang.extend(a.PublisherFacebookLoginContent.prototype,a.ExternalLoginContent.prototype);a.GoogleLoginContent=function(b){a.ExternalLoginContent.call(this,b,"google")};DISQUS.lang.extend(a.GoogleLoginContent.prototype,a.ExternalLoginContent.prototype);a.OpenIdLoginContent=function(c){a.ContentBase.call(this,"dsq-login-openid");var b=DISQUS.nodes.get("#dsq-openid-submit-button");DISQUS.events.add(b,"click",function(){var e=this;var h,d;var i="location=0,status=0,width=800,height=500";var f=DISQUS.jsonData.urls.openid_connect;var g=DISQUS.nodes.get("#dsq-openid-url").value;if(/^\s*$/.test(g)){return}f=DISQUS.getResourceURL(f,{url:g,username:DISQUS.nodes.get("#dsq-openid-username").value});h=window.open(f,"openidWindow",i);d=setInterval(function(){if(DISQUS.window.isClosed(h)){clearInterval(d);DISQUS.reload(function(){c.close()})}},500)})};DISQUS.lang.extend(a.OpenIdLoginContent.prototype,a.ContentBase.prototype);a.SSOLoginContent=function(b){a.ExternalLoginContent.call(this,b,"sso")};DISQUS.lang.extend(a.SSOLoginContent.prototype,a.ExternalLoginContent.prototype);a.iFrameContent=function(b,c){a.ContentBase.call(this,b);this.url=c;this.iframe=null};DISQUS.lang.extend(a.iFrameContent.prototype,a.ContentBase.prototype,{show:function(){var b=this;if(!this.iframe){this.iframe=DISQUS.nodes.createIframe(this.url,{},{style:"display:none !important;",frameBorder:"0",frameSpacing:"0",height:"100%",width:"100%"});DISQUS.events.add(this.iframe,"load",function(){DISQUS.nodes.hide(b.spinner,true);DISQUS.nodes.show(b.iframe,true)});this.spinner=document.createElement("img");this.spinner.src=DISQUS.settings.media_url+"/images/dsq-loader.gif";this.container.appendChild(this.spinner);this.container.appendChild(this.iframe)}a.ContentBase.prototype.show.call(this)}});a.LoginBoxTab=function(e,d,f){var b=this;b.parent=e;b.tabNode=DISQUS.nodes.get("#"+d);b.content=f;var c=DISQUS.nodes.get("a",b.tabNode)[0];DISQUS.events.add(c,"click",function(g){b.enable();g.preventDefault();return false})};a.LoginBoxTab.prototype={enable:function(){if(this.parent.enabledTab){this.parent.enabledTab.disable()}DISQUS.nodes.addClass(this.tabNode,"dsq-active");this.content.show();this.parent.enabledTab=this},disable:function(){DISQUS.nodes.removeClass(this.tabNode,"dsq-active");this.content.hide()}};(function(){function d(e,g){var f=e.target||e.srcElement;return !!DISQUS.nodes.closest(f,"#"+g)}var c={};var b=0;a.Modal=function(){this.guid=++b;c[this.guid]=this};a.Modal.closeAll=function(){DISQUS.lang.forEach(c,function(e){e.close()})};a.Modal.last=function(){return c[b]};a.Modal.prototype={init:function(){var f=this;var e=f.container;e.className="dsq-popup dsq-popup-message "+(f.extra||"");if(DISQUS.browser.ie6||DISQUS.browser.ie7){DISQUS.events.execOnReady(function(){f._onContentReady()})}else{f._onContentReady()}var g=DISQUS.nodes.get(".dsq-popup-close",e);if(g&&g.length){DISQUS.events.add(g[0],"mouseup",function(){f.close()})}f.mouseUpListener=DISQUS.events.add(document,"mouseup",function(h){if(!d(h,f.container.id)){f.close()}});f.keyUpListener=DISQUS.events.add(document,"keyup",function(h){if(h.keyCode==27){f.close()}})},_onContentReady:function(){var f=this;var e=f.container;DISQUS.nodes.body().appendChild(e);e.style.display="block";f.reposition();if(f.onReady){f.onReady()}},open:function(i){a.Modal.closeAll();var g=this;DISQUS.lang.extend(g,i||{});var h=g.title||"";var e=g.body||"";g.container=document.createElement("div");var f=g.container;f.id="dsq-popup-message";f.innerHTML=DISQUS.renderBlock("popup",{strict:i.strict,popupHeader:h,popupBody:e,popupClass:"",footer:typeof i.footer!=="undefined"?i.footer:true});g.init();return f},close:function(k){var g=this;var f=g.container;if(!f){return}if(g.mouseUpListener){DISQUS.events.remove(document,"mouseup",g.mouseUpListener);g.mouseUpListener=null}if(g.keyUpListener){DISQUS.events.remove(document,"keyup",g.keyUpListener);g.keyUpListener=null}var h=DISQUS.nodes.get("#dsq-overlay");if(h){DISQUS.nodes.remove(h)}try{DISQUS.nodes.remove(f)}catch(e){var l=f.getElementsByTagName("IFRAME");for(var j=0;j<l.length;j++){l[j].parentNode.removeChild(l[j])}f.parentNode.removeChild(f)}g.container=null;if(g.onClose){g.onClose()}c[this.guid]=null;delete c[this.guid]},reposition:function(){var g=this;var f=g.container;if(!f){return false}var h=DISQUS.window.getSize();var e=(h[0]-f.offsetWidth)/2;var i=(h[1]-f.offsetHeight)/2;if(DISQUS.browser.ie6){i=DISQUS.window.getScrollPosition()[1]}f.style.left=e+"px";f.style.top=i+"px";return true}}})();a.IframeModal=function(){a.Modal.call(this)};DISQUS.lang.extend(a.IframeModal.prototype,a.Modal.prototype,{open:function(e){var c=this;DISQUS.lang.extend(c,e||{});c.body='<div class="dsq-border" style="width:'+e.width+"px; height:"+e.height+'px"><a href="#" class="dsq-modal-close-btn" onclick="DISQUS.popup.close(null, true); return false">Close</a><div class="dsq-popup-raw-container"></div></div>';c.container=document.createElement("div");var b=c.container;b.id="dsq-popup-message";b.innerHTML=c.body;c.extra="dsq-popup-raw";c.init();var d=DISQUS.nodes.createIframe(e.url,{},{width:"100%",height:"100%",scrolling:"no",frameBorder:"0",frameSpacing:"0",style:"visibility:hidden"});b=DISQUS.nodes.get(".dsq-popup-raw-container",c.container)[0];b.appendChild(d);d.onreadystatechange=d.onload=function(){d.style.visibility="visible"};return b}});a.ProfileModal=function(){a.IframeModal.call(this)};DISQUS.lang.extend(a.ProfileModal.prototype,a.IframeModal.prototype,{open:function(d){var b=this;d=d||{};if(typeof d==="string"){d={username:d}}var c=((DISQUS.config&&DISQUS.config.domain)?"http://"+DISQUS.config.domain:DISQUS.settings.disqus_url);c+=(d.anonymous?"/embed/guest/":"/embed/")+d.username;c=DISQUS.getResourceURL(c,{is_moderator:d.isModerator});a.IframeModal.prototype.open.call(b,{url:c,width:570,height:525,onClose:d.onClose})}});a.ProfileEditModal=function(){var b=this;b.tabs={};b.enabledTab=null};DISQUS.lang.extend(a.ProfileEditModal.prototype,a.Modal.prototype,{open:function(d){var b=this;d=d||{};DISQUS.extend(d,{strict:true,title:DISQUS.strings.get("Edit your profile"),extra:"dsq-profile-edit-modal",onClose:b.onClose,onReady:function(){b.onContentReady(d.selectedTab)}});var c=DISQUS.settings.urls||DISQUS.jsonData.urls;DISQUS.request.get(c.unmerged_profiles,{},true);DISQUS.dtpl.actions.register("profile.getUnmerged.onSuccess",function(e){DISQUS.dtpl.actions.remove("profile.getUnmerged.onSuccess",arguments.callee);b.has_unmerged_users=e;a.Modal.prototype.open.call(b,DISQUS.extend(d,{body:DISQUS.renderBlock("profileEdit",{has_unmerged_users:e})}))})},onContentReady:function(b){var c=this.tabs;var f=DISQUS.ui;var e=DISQUS.settings||DISQUS.jsonData.settings;var d=DISQUS.config.page?encodeURIComponent(DISQUS.config.page.url):"";if(this.has_unmerged_users){c.merge=new f.LoginBoxTab(this,"dsq-tab-profile-merge",new f.iFrameContent("dsq-profile-merge",e.disqus_url+"/embed/profile/merge?thread_url="+d))}c.edit=new f.LoginBoxTab(this,"dsq-tab-profile-edit",new f.iFrameContent("dsq-profile-edit",e.disqus_url+"/embed/profile/info?thread_url="+d));c.avatar=new f.LoginBoxTab(this,"dsq-tab-profile-avatar",new f.iFrameContent("dsq-profile-avatar",e.disqus_url+"/embed/profile/avatar?thread_url="+d));c.services=new f.LoginBoxTab(this,"dsq-tab-profile-services",new f.iFrameContent("dsq-profile-services",e.disqus_url+"/embed/profile/connections?thread_url="+d));c.notifications=new f.LoginBoxTab(this,"dsq-tab-profile-notifications",new f.iFrameContent("dsq-profile-notifications",e.disqus_url+"/embed/account/notifications?thread_url="+d));c.account=new f.LoginBoxTab(this,"dsq-tab-profile-account",new f.iFrameContent("dsq-profile-account",e.disqus_url+"/embed/account?thread_url="+d));if(b&&c[b]){c[b].enable()}else{(c.merge||c.edit).enable()}}});a.ForumCommunityModal=function(){a.IframeModal.call(this)};DISQUS.lang.extend(a.ForumCommunityModal.prototype,a.IframeModal.prototype,{open:function(c){var b=this;c=c||DISQUS.jsonData.urls.community;a.IframeModal.prototype.open.call(b,{url:c,width:700,height:525})}});a.applyTooltips=function(b){if(typeof b==="undefined"){b=DISQUS.nodes.get("#disqus_thread")}var c=DISQUS.nodes.get(".dsq-tt",b);DISQUS.lang.forEach(c,function(f,d){var e=new DISQUS.Tooltip(f,{gravity:"s",trigger:"hover",opacity:0.96,html:true})})};a.truncateComments=function(b){var d=DISQUS.nodes.get(".dsq-comment-message",b),c=DISQUS.jsonData.forum.comment_max_words;DISQUS.lang.forEach(d,function(g,f){var e=g.id.match(/\d+$/);if(e&&e.length&&c>0){DISQUS.dtpl.actions.fire("comments.text.collapse",e[0])}})};a.LoginBox=function(d,c){var b=this;b.events=d;b.tabs={};b.tabsArray=[];b.enabledTab=null;c=c||{};b.title=c.title||"Login or Register";b.guestTab=c.guestTab||false;DISQUS.addJob(function(){return !!DISQUS.strings},function(){b.title=DISQUS.strings.get(b.title)})};DISQUS.lang.extend(a.LoginBox.prototype,{show:function(){var b=this;var d=DISQUS.renderBlock("loginPopup",{guestTab:b.guestTab});var c={onClose:b.onClose,onReady:function(){b.onContentReady()}};DISQUS.popup.popModal(d,this.title,null,null,"dsq-login-box",c)},close:function(){DISQUS.popup.close(null,true)}});a.LoginBox.prototype.onContentReady=function(){var b=this;var e=DISQUS.ui;if(DISQUS.jsonData.forum.allow_anon_post&&b.guestTab){b.add("guest",new e.LoginBoxTab(this,"dsq-login-tab-guest",new e.GuestLoginContent(null,function(){b.events.onGuest();b.close()})))}var d;if(DISQUS.config.sso){b.add("sso",new e.LoginBoxTab(this,"dsq-login-tab-sso",new e.SSOLoginContent(this)));if(DISQUS.config.sso.icon){d=DISQUS.nodes.get("span",DISQUS.nodes.get("#dsq-login-tab-sso"))[0];d.style.cssText="background: url("+DISQUS.config.sso.icon+") !important;"}}if(!DISQUS.jsonData.forum.disqus_auth_disabled){b.add("disqus",new e.LoginBoxTab(this,"dsq-login-tab-disqus",(DISQUS.states.useLoginWindow?new e.ExternalLoginContent(this,"disqus"):new e.DisqusLoginContent(null,function(f){if(f.newUser){DISQUS.dtpl.actions.fire("user.newUser.onSuccess")}b.close()}))))}var c=null;if(DISQUS.jsonData.context.forum_facebook_key){c=new e.PublisherFacebookLoginContent(this)}else{c=new e.DefaultFacebookLoginContent(this,"dsq-login-facebook")}if(c){b.add("facebook",new e.LoginBoxTab(this,"dsq-login-tab-facebook",c))}b.add("google",new e.LoginBoxTab(this,"dsq-login-tab-google",new e.GoogleLoginContent(this)));b.add("twitter",new e.LoginBoxTab(this,"dsq-login-tab-twitter",new e.TwitterLoginContent(this)));b.add("yahoo",new e.LoginBoxTab(this,"dsq-login-tab-yahoo",new e.YahooLoginContent(this)));b.add("openid",new e.LoginBoxTab(this,"dsq-login-tab-openid",new e.OpenIdLoginContent(this)));this.tabsArray[0].enable()};a.LoginBox.prototype.add=function(b,c){this.tabs[b]=c;this.tabsArray.push(c)};a.DisqusLoginBox=function(){};a.DisqusLoginBox.prototype=new a.LoginBox();a.DisqusLoginBox.prototype.show=function(){var e=this;var b='<div id="dsq-login-iframe-wrapper" style="height:320px;"></div>';if(!DISQUS.states.useLoginWindow){DISQUS.popup.popModal(b,this.title,null,true,"dsq-popup-login",{onReady:function(){e.content=new a.DisqusLoginContent("dsq-login-iframe-wrapper",function(g){if(g.newUser){DISQUS.dtpl.actions.fire("user.newUser.onSuccess")}e.close()});e.content.show()},onClose:this.onClose})}else{var f=DISQUS.nodes.getIframeDefaults();f.is_popup=true;var c=window.open(DISQUS.getResourceURL(DISQUS.jsonData.urls.channels.auth,f,true),"_blank","height=420,width=400");if(window.focus){c.focus()}var d=setInterval(function(){if(DISQUS.window.isClosed(c)){clearInterval(d);DISQUS.reload(function(){e.onClose()})}},500)}};a.TwitterLoginBox=function(){};a.TwitterLoginBox.prototype=new a.LoginBox();a.TwitterLoginBox.prototype.show=function(){var d,c,b=this;var e="location=0,status=0,width=800,height=400";b.window=d=window.open(DISQUS.jsonData.urls.twitter_connect,"twitterWindow",e);if(!d){return}c=setInterval(function(){if(DISQUS.window.isClosed(d)){clearInterval(c);DISQUS.reload(function(){b.onClose()})}},500)};a.GoogleLoginBox=function(){};a.GoogleLoginBox.prototype=new a.LoginBox();a.GoogleLoginBox.prototype.show=function(){var b,d,c=this;var e="location=0,status=0,width=800,height=400";c.window=b=window.open(DISQUS.jsonData.urls.googleConnect,"googleWindow",e);if(!b){return}d=setInterval(function(){if(DISQUS.window.isClosed(b)){clearInterval(d);DISQUS.reload(function(){c.onClose()})}},500)};a.YahooLoginBox=function(){};a.YahooLoginBox.prototype=new a.LoginBox();a.YahooLoginBox.prototype.show=function(){var d,c,b=this;var e="location=0,status=0,width=800,height=400";b.window=d=window.open(DISQUS.jsonData.urls.yahoo_connect,"yahooWindow",e);if(!d){return}c=setInterval(function(){if(DISQUS.window.isClosed(d)){clearInterval(c);DISQUS.reload(function(){b.onClose()})}},500)};a.OpenIDLoginBox=function(){this.title=DISQUS.strings.get("Sign in using OpenID")};a.OpenIDLoginBox.prototype=new a.LoginBox();a.OpenIDLoginBox.prototype.show=function(){var b=this;var c={onReady:function(){b.content=new a.OpenIdLoginContent(b)},onClose:this.onClose};DISQUS.popup.popModal(DISQUS.renderBlock("openidForm"),this.title,null,null,true,c)};a.SSOLoginBox=function(){};a.SSOLoginBox.prototype=new a.LoginBox();a.SSOLoginBox.prototype.show=function(){var c=this;if(DISQUS.config.sso.newWindow===false){window.location.href=DISQUS.config.sso.url;return}var d="location=0,status=0,width="+(DISQUS.config.sso.width||800)+",height="+(DISQUS.config.sso.height||400);var e=window.open(DISQUS.config.sso.url,"ssoWindow",d);var b=setInterval(function(){if(DISQUS.window.isClosed(e)){clearInterval(b);window.location.reload()}},500)};a.DefaultFacebookLoginBox=function(){this.title=DISQUS.strings.get("Sign in using Facebook")};a.DefaultFacebookLoginBox.prototype=new a.LoginBox();a.DefaultFacebookLoginBox.prototype.show=function(){var b=this;var c={onReady:function(){b.content=new DISQUS.ui.DefaultFacebookLoginContent(b)},onClose:this.onClose};DISQUS.popup.popModal(DISQUS.renderBlock("facebookLoginForm",{title:false}),this.title,null,null,true,c)};a.PublisherFacebookLoginBox=function(){};a.PublisherFacebookLoginBox.prototype=new a.LoginBox();a.PublisherFacebookLoginBox.prototype.show=function(){var b=this;DISQUS.FB.init(function(){DISQUS.FB.login(function(){DISQUS.FB.authenticateViaPublisherKey(function(c){DISQUS.reload(function(){DISQUS.redraw();if(b.close){b.close()}})})},function(){b.close()})})};a.FacebookLoginBox=a.PublisherFacebookLoginBox;DISQUS.api=DISQUS.api||{};DISQUS.api.FacebookLoginBox=a.FacebookLoginBox;return a})();DISQUS.modules.ui=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.FB=(function(){var e={},g=[],h=null;var d=function(){};d.prototype={init:function(j,k){FB.init(j,k,{fetchSignedPublicSessionData:true})},login:function(k,j){FB.Connect.requireSession(function(){FB.Connect.get_status().waitUntilReady(function(l){switch(l){case FB.ConnectState.connected:k();break;case FB.ConnectState.appNotAuthorized:case FB.ConnectState.userNotLoggedIn:j()}})},true)},authenticateViaPublisherKey:function(j){FB.Connect.getSignedPublicSessionData(function(l){var k=DISQUS.jsonData.forum.url;if(DISQUS.config.facebook_forum){k=DISQUS.config.facebook_forum}var m=DISQUS.comm.Facebook.create(null,{onReady:function(){m.authenticatePublicSessionData(l,k)},onSuccess:j})})},streamPublish:function(j,k){FB.Connect.streamPublish(j,k)},streamShare:function(j,k,l){FB.Connect.streamPublish(j,k,function(m,n){if(typeof l==="function"){l(m)}})}};var f=function(){this.session=null};f.prototype={init:function(j,k){FB.init({apiKey:j,channelUrl:k,status:true,cookie:true})},login:function(l,k){var j=this;FB.login(function(m){if(m.session){j.session=m.session;l()}else{j.session=null;k()}})},authenticateViaPublisherKey:function(k){var j=this;FB.login(function(l){var m=DISQUS.comm.Facebook.create(null,{onReady:function(){m.authenticatePublisherSession(l.session)},onSuccess:k})})},streamPublish:function(j,k,l){FB.ui({method:"stream.publish",message:j,attachment:k},function(m,n){if(typeof l==="function"){l(m,n)}})},streamShare:function(j,k,l){FB.ui({method:"stream.share",u:k.href},function(m){if(typeof l==="function"){l(m.post_id)}})}};var b=function(j){this.rpc=j};b.prototype={init:function(){this.rpc.init()},streamPublish:function(j,k,l){this.rpc.streamPublish(j,k,l)},streamShare:function(j,k,l){this.rpc.streamPublish(j,k,l)},authenticateViaPublisherKey:function(){console.log("Unsupported.")}};function a(){if(window.FB){if(FB.dynData&&!FB.init){DISQUS.require("http://static.ak.connect.facebook.com/js/api_lib/v0.4/FeatureLoader.js.php")}else{}}else{DISQUS.require("http://connect.facebook.net/en_US/all.js")}}function i(){var j=["fb-root","FB_HiddenContainer"];DISQUS.lang.forEach(j,function(k){if(DISQUS.nodes.get("#"+k)){return}var l=document.createElement("div");l.id=k;if(k=="FB_HiddenContainer"){l.style.position="absolute";l.style.top="-10000px";l.style.left="-10000px";l.style.width="0px";l.style.height="0px"}DISQUS.nodes.get("body")[0].appendChild(l)})}e.init=function(m){e.init=function(n){if(typeof n==="function"){g.push(n)}if(!h){return}while(g.length){g.shift()()}};e.init();var j=DISQUS.config.facebook_key||DISQUS.jsonData.context.forum_facebook_key,k;if(j){i();a();DISQUS.addJob(function(){return window.FB&&FB.init},function(){if(FB.getLoginStatus){h=new f()}else{if(FB.ensureInit){h=new d()}else{if(console){console.log("Unknown FB library.")}}}h.init(j,window.facebookXdReceiverPath||null);e.init()})}else{var l=DISQUS.comm.Facebook.create(null,{onReady:function(){h=new b(l);h.init();e.init()}})}};var c=["login","streamShare","streamPublish","authenticateViaPublisherKey"];DISQUS.each(c,function(j){e[j]=function(){h[j].apply(h,arguments)}});return e})();var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.sandbox=(function(){var a={};var e;var d={};var b;function f(){var l=DISQUS.jsonData;var n={DISQUS:null,browser:DISQUS.browser,config:DISQUS.config,urls:{},lang:{forEach:DISQUS.lang.forEach,interpolate:DISQUS.strings.interpolate,contains:function(o,r){for(var p=0,q=o.length;p<q;p++){if(o[p]==r){return true}}return false},pluralize:DISQUS.strings.pluralize,capitalize:DISQUS.strings.capitalize,extend:DISQUS.lang.extend},states:DISQUS.states,trans:DISQUS.strings.get,settings:DISQUS.settings};if(!l){return n}DISQUS.lang.extend(n,{context:l.context,comments:[],highlighted:[],comment:null,forum:l.forum,integration:l.integration,loginOptions:[{name:"disqus",button_url:l.settings.media_url+"/images/themes/narcissus/login-disqus.gif",enabled:!l.forum.disqus_auth_disabled,action:"auth.disqus"},{name:"facebook",button_url:l.settings.media_url+"/images/themes/narcissus/login-facebook.gif",enabled:l.context.use_fb_connect,action:"auth.facebook"},{name:"twitter",button_url:l.settings.media_url+"/images/themes/narcissus/login-twitter.gif",enabled:l.context.use_twitter_signin,action:"auth.twitter"},{name:"google",button_url:l.settings.media_url+"/images/themes/narcissus/login-twitter.gif",enabled:l.context.use_google_signin,action:"auth.google"},{name:"openid",button_url:l.settings.media_url+"/images/themes/narcissus/login-openid.gif",enabled:l.context.use_openid,action:"auth.openid"},{name:"yahoo",button_url:l.settings.media_url+"/images/themes/narcissus/login-yahoo.png",enabled:l.context.use_yahoo,action:"auth.yahoo"}],request:l.request,reactions:l.reactions,session:l.session,sorting:[{value:"hot",label:DISQUS.strings.get("Popular now"),selected:l.request.sort==4},{value:"best",label:DISQUS.strings.get("Best rating"),selected:l.request.sort==3},{value:"newest",label:DISQUS.strings.get("Newest first"),selected:l.request.sort==2},{value:"oldest",label:DISQUS.strings.get("Oldest first"),selected:l.request.sort==1}],thread:l.thread,urls:l.urls});if(DISQUS.config.sso){n.loginOptions.push({name:DISQUS.config.sso.name,button_url:DISQUS.config.sso.button,action:"auth.sso",enabled:true,userDefined:true})}DISQUS.lang.extend(n.settings,l.settings);if(DISQUS.db.available()){var k,j,m=DISQUS.db.get("thread_votes");if(m&&m[l.thread.id]){k=m[l.thread.id];if(k.timestamp>=l.request.timestamp){j=k.value-n.thread.user_vote;n.thread.likes+=j<0?0:j;n.thread.user_vote=k.value}else{delete m[l.thread.id];DISQUS.db.set("thread_votes",m)}}}n.context.realtime_enabled=l.realtime_enabled;n.context.has_more_reactions=l.has_more_reactions;if(DISQUS.config.trackback_url&&DISQUS.config.trackbacks){n.context.trackback_url=DISQUS.config.trackback_url;n.context.trackbacks=DISQUS.config.trackbacks}else{n.context.trackback_url=l.settings.disqus_url+"/forums/"+l.forum.url+"/"+l.thread.slug+"/trackback/";n.context.trackbacks=l.trackbacks}n.context.sharing=[];DISQUS.lang.forEach(n.request.sharing,function(q,p,o){if(n.request.is_remote&&n.request.remote_domain!=p){return}q.key=p;q.checked=(q.auto===true||n.request.remote_domain==p);n.context.sharing.push(q)});n.request.display_sharing_options=l.request.is_authenticated;if(l.request.is_remote){if(!l.request.sharing.hasOwnProperty(l.request.remote_domain)){n.request.display_sharing_options=false}}if(n.reactions&&n.reactions.length>0){for(b=0;b<n.reactions.length;b++){var h=n.reactions[b].get_service_name;if(h=="trackback"||h=="pingback"){n.reactions[b].service_icon="rss"}else{n.reactions[b].service_icon=h.replace(" ","")}}if(n.reactions.retweets&&n.reactions.retweets.length===0){n.reactions.retweets=null}}else{n.reactions=null}DISQUS.lang.forEach(l.mediaembed,function(q,p,o){q.thumbnailURL=l.settings.media_url+"/images/mediaembed-thumbnail.png";switch(q.type){case 1:case 5:if(q.metadata.thumbnail){q.thumbnailURL=l.settings.uploads_url+"/"+q.metadata.thumbnail}break;case 2:case 4:if(q.metadata.thumbnail){q.thumbnailURL=q.metadata.thumbnail}break}if(!l.posts[q.post].media){l.posts[q.post].media=[]}l.posts[q.post].media.push(q)});var i={avatar:DISQUS.jsonData.forum.default_avatar_url,display_name:"Guest"};DISQUS.each(l.ordered_highlighted,function(q,o){var p=l.highlighted[q];p.author=l.users[p.user_key]||i;p.id=q;p.stripped=function(r){var s=p.message.replace(/<.*?>/g,"");if(s.length>r){return s.substring(0,r)}return null};n.highlighted.push(p)});var g=0;DISQUS.lang.forEach(l.ordered_posts,function(s,p,o){var r=l.posts[s];r.isFirst=false;r.isLast=false;r.id=s;r.author=l.users[r.user_key]||i;r.even=(g%2)===0;if(r.parent_post_id&&l.posts[r.parent_post_id]){r.parent=l.posts[r.parent_post_id];r.parent.author=l.users[r.parent.user_key]||i}r.stripped=function(t){var u=r.message.replace(/<.*?>/g,"");if(u.length>t){return u.substring(0,t)}return null};var q;if(g===0){r.isFirst=true}else{q=n.comments[g-1];if(q.depth<r.depth){r.isFirst=true}else{if(q.depth>r.depth){q.isLast=true}}}n.comments.push(r);g++});if(g>0){n.comments[g-1].isLast=true}n.thread.page_numbers=[];for(b=(n.request.page-2);b<(n.request.page+2);b++){if(b>0&&b<=n.thread.num_pages){n.thread.page_numbers.push(b)}}if(n.thread.page_numbers[0]==2){n.thread.page_numbers.unshift(1)}if(n.thread.page_numbers[n.thread.page_numbers.length-1]==n.thread.num_pages-1){n.thread.page_numbers.push(n.thread.num_pages)}return n}function c(){var g={};DISQUS.lang.forEach(d,function(i,h){if(typeof i!="undefined"){DISQUS.lang.extend(g,i)}});return g}a.wrap=function(g,i,j){var h;if(typeof e=="undefined"){e=f()}if(j){d[g]=j}h=i(e,c());if(d[g]){d[g]=undefined}return h};a.invalidateGlobals=function(){e=undefined};return a}());DISQUS.modules.sandbox=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.cookies=(function(){var a={};a.create=function(b,c){document.cookie=b+"="+c+"; path=/"};a.read=function(b){var f=b+"=";var d,e=document.cookie.split(";");for(var c=0;c<e.length;c++){d=e[c];while(d.charAt(0)==" "){d=d.substring(1,d.length)}if(d.indexOf(f)===0){return d.substring(f.length,d.length)}}return null};a.erase=function(c){var b=new Date();b.setTime(b.getTime()+(-1*24*60*60*1000));document.cookie=c+"=;expires="+b.toGMTString()+"; path=/"};return a}());(function(){var b={ready:false,timer:null,queue:[]};function a(){if(b.ready){return true}if(document&&document.getElementsByTagName&&document.getElementById&&document.body){if(b.timer){clearInterval(b.timer);b.timer=null}for(var c=0;c<b.queue.length;c++){b.queue[c]()}b.queue=[];b.ready=true;return true}return false}DISQUS.extend(DISQUS.events,{execOnReady:function(c){if(a()){c();return}if(b.timer){b.queue.push(c)}else{DISQUS.events.add(window,"load",a);b.queue.push(c);b.timer=setInterval(a,13)}}})}());DISQUS.nodes=(function(){var l={};var k;function b(n){return new RegExp("(^|\\s)"+n+"(\\s|$)")}function j(o,t,p){var u;var r;var s;var n;s=b(t);n=[];o=o||"*";p=p||l.body();t=t.replace(/\-/g,"\\-");u=(o=="*"&&p.all)?p.all:p.getElementsByTagName(o);for(var q=0;q<u.length;q++){r=u[q];if(s.test(r.className)){n.push(r)}}return n}function i(o){var n=[];for(var p=0;p<o.length;p++){if(p in o){n[p]=o[p]}}return n}l.container=document.getElementById("dsq-content");l.head=document.getElementsByTagName("head")[0]||document.getElementById("disqus_thread");l.get=function(p,n){if(p.slice(0,1)=="#"){return document.getElementById(p.slice(1))}else{if(p.indexOf(".")!=-1){n=n||l.body();if(n&&n.querySelectorAll){return i(n.querySelectorAll(p))}else{return j(p.slice(0,p.indexOf(".")),p.slice(p.indexOf(".")+1),n)}}else{var o=(n||document).getElementsByTagName(p);return i(o)}}};l.is=function(n,o){if(n.nodeType!==1){return false}else{if(o.slice(0,1)=="#"){return n.id==o.slice(1)}else{if(o.indexOf(".")!=-1){return b(o.slice(1)).test(n.className)}else{return n.tagName.toLowerCase().indexOf(o)!=-1}}}return false};(function(){var n=null;l.body=function(){if(n){return n}var o=document.getElementsByTagName("body");if(o&&o.length){n=o[0]}return n}})();l.closest=function(p,o){var n=p.parentNode;while(n){if(l.is(n,o)){return n}n=n.parentNode}return null};l.createIframe=function(o,s,n){var p;var r;var q;q=l.getIframeDefaults();if(s){DISQUS.lang.forEach(s,function(u,t){q[t]=u})}r={marginwidth:0,marginheight:0,hspace:0,vspace:0,frameborder:0,allowtransparency:"true",src:DISQUS.getResourceURL(o,q,true)};if(n){DISQUS.lang.forEach(n,function(u,t){r[t]=u})}p=document.createElement("iframe");DISQUS.lang.forEach(r,function(u,t){p.setAttribute(t,u)});return p};l.getIframeDefaults=function(){var n=l.getBasicStyles();var o={to_redirect:window.location,ff:n.fontFamily,fc:n.fontColor,ac:n.anchorColor};if(DISQUS.jsonData){DISQUS.lang.extend(o,{f:DISQUS.jsonData.forum.url,t:DISQUS.jsonData.thread.slug,cbp:DISQUS.config.callback_params,default_text:DISQUS.config.def_text})}return o};l.getPosition=function(n){var p=0;var o=0;if(n.offsetParent){do{p+=n.offsetLeft;o+=n.offsetTop;n=n.offsetParent}while(n)}return[p,o]};l.getStyle=function(o,q,n){var p;if(o===document){return""}if(window.getComputedStyle){p=document.defaultView.getComputedStyle(o,null).getPropertyValue(q)}else{if(o.currentStyle){p=o.currentStyle[q]?o.currentStyle[q]:o.currentStyle[n]}}if(p=="transparent"||p===""||p=="rgba(0, 0, 0, 0)"){return l.getStyle(o.parentNode,q,n)}else{return p||""}};l.getBasicStyles=function(){var o,n;if(k){return k}k={backgroundColor:null,fontColor:null,fontFamily:null,anchorColor:null};n=l.get("#"+DISQUS.config.container_id)||l.get("body")[0];k.fontColor=l.getStyle(n,"color");k.backgroundColor=l.getStyle(n,"background-color","backgroundColor");k.fontFamily=l.getStyle(n,"font-family","fontFamily").replace(/['"]/g,"");o=l.get("a")[0];if(o){k.anchorColor=l.getStyle(o,"color")}return k};l.hasClass=function(o,n){return b(n).test(o.className)};var d=/[\n\t]/g,m=/\s+/,g=/\r/g,c=/href|src|style/,h=/(button|input)/i,f=/(button|input|object|select|textarea)/i,e=/^(a|area)$/i,a=/radio|checkbox/;l.addClass=function(p,q){var s=(q||"").split(m);if(!p.className){p.className=q}else{var o=" "+p.className+" ",r=p.className;for(var t=0,n=s.length;t<n;t++){if(o.indexOf(" "+s[t]+" ")<0){r+=" "+s[t]}}p.className=DISQUS.lang.trim(r)}};l.removeClass=function(p,q){var r=(q||"").split(m);if(q){var o=(" "+p.className+" ").replace(d," ");for(var s=0,n=r.length;s<n;s++){o=o.replace(" "+r[s]+" "," ")}p.className=DISQUS.lang.trim(o)}else{p.className=""}return this};l.toggleClass=function(n,o){if(l.hasClass(n,o)){l.removeClass(n,o)}else{l.addClass(n,o)}};l.remove=function(n){if(!n){return}l.removeChildren(n);if(typeof n.outerHTML!="undefined"){n.outerHTML=""}else{if(n.parentNode){n.parentNode.removeChild(n)}}n=null};l.removeChildren=function(p){var o,r;if(!p){return}o=p.childNodes;var q=o.length-1;while(q>=0){r=o[q];if(r.hasChildNodes()){l.removeChildren(r)}if(typeof r.outerHTML!="undefined"){r.outerHTML=""}else{p.removeChild(r)}r=null;q-=1}};l.insertBefore=function(o,n){o.parentNode.insertBefore(n,o)};l.insertAfter=function(o,n){node=o.nextSibling;o.parentNode.insertBefore(n,node)};l.toHTML=function(o){var n,p;p=document.createElement("div");p.appendChild(o);n=p.innerHTML;p=null;return n};l.hide=function(o,n){if(n){o.style.cssText="display:none !important"}else{o.style.display="none"}};l.show=function(o,n){if(n){o.style.cssText="display:block !important"}else{o.style.display="block"}};l.scrollTo=function(n){if(typeof n==="string"){n=l.get(n)}if(!n){return}var o=DISQUS.nodes.getPosition(n);window.scrollTo(0,o[1])};l.truncateComment=function(s,q,o){var p=s,u=s.childNodes[0],r=0;while(u!==null){if(u.nodeType==3){r+=u.nodeValue.replace(/^\s+|\s+$/g,"").split(" ").length;if(r>q){break}}if(u.childNodes.length>0){u=u.childNodes[0]}else{if(u.nextSibling!==null){u=u.nextSibling}else{if(u.parentNode===p){break}else{var v=u;while(v.parentNode.nextSibling===null&&v!==p){v=v.parentNode}if(v==p){u=null}else{u=v.parentNode.nextSibling}}}}}if(r>q){var t=u.nodeValue.replace(/^\s+|\s+$/g,"").split(" ");t=t.slice(0,t.length-(r-q));if(u.nodeType===3){u.nodeValue=t.join(" ")+o}while(u!==p){while(u.nextSibling!==null){u.nextSibling.parentNode.removeChild(u.nextSibling)}u=u.parentNode}return true}else{return false}};l.slide=function(r,v,q,s){s=250;var n=(new Date()).getTime(),o=Math.max(v,q),u=q<v,p=u?Math.max:Math.min;r.style.height=v+"px";r.style.overflow="hidden";r.style.display="block";var t=setInterval(function(){var y=(new Date()).getTime(),x=y-n,z=x/s,w;if(u){z=1-z}w=parseInt(o*z,10);w=p(w,q);r.style.height=w+"px";if(x>=s){if(w<=0){r.style.display="none";r.style.height=""}clearInterval(t)}},13)};return l}());DISQUS.request=(function(){var a={};a.get=function(e,f,d,b){var c=document.createElement("script");c.src=DISQUS.getResourceURL(e,f,d);c.charset="UTF-8";(b||DISQUS.nodes.body()).appendChild(c);return c};a.post=function(c,g,i){var b;var f;var h;var e;b=document.createElement("div");h="dsq-temp-iframe"+(new Date()).getTime();f=document.createElement("form");f.method="POST";f.action=c;if(!i){f.target=h}try{e=document.createElement('<iframe name="'+h+'">')}catch(d){e=document.createElement("iframe");e.name=h}e.style.display="none";e.id=h;b.appendChild(e);DISQUS.lang.forEach(g,function(m,l,k){var j=document.createElement("input");j.name=l;j.type="hidden";j.value=m;f.appendChild(j)});DISQUS.nodes.body().appendChild(b);DISQUS.nodes.body().appendChild(f);f.submit()};return a}());DISQUS.popup=(function(){var a={};a.popModal=function(c,i,d,e,b,g){DISQUS.ui.Modal.closeAll();var f=new DISQUS.ui.Modal();var h={title:i,body:c,extra:b};DISQUS.lang.extend(h,g||{});f.open(h)};a.popProfile=function(b,f,e){var c=DISQUS.jsonData.posts[b];if(c){if(c.has_been_anonymized){DISQUS.popup.popModal(DISQUS.strings.get("This message was anonymized by its previous owner"),DISQUS.strings.get("Anonymized"),b);return}else{if(c.killed){DISQUS.popup.popModal(DISQUS.strings.get("This comment was removed by a moderator"),DISQUS.strings.get("Comment Removed"),b);return}}f=DISQUS.jsonData.posts[b].user_key}var g={username:f,anonymous:!!f.match(/^[0-9a-f]{32}/i),isModerator:e};var d=new DISQUS.ui.ProfileModal();d.open(g);return false};a.close=function(b,c){DISQUS.ui.Modal.closeAll()};a.adjustPosition=function(){var b=DISQUS.ui.Modal.last();if(b){b.reposition()}};return a}());DISQUS.extend(DISQUS.window,{anchor:function(a){window.location.hash=a},isClosed:function(a){if(!a){return true}try{return a.closed||a.closed===undefined}catch(b){return true}return false}});DISQUS.hacks=(function(){var a={};a.ie={fixIframes:function(f){var b=DISQUS.nodes.get("#"+DISQUS.config.container_id);var e=b.getElementsByTagName("iframe");var c=(f?DISQUS.nodes.get("#"+f):DISQUS.nodes.container);if(c){for(var d=0;d<e.length;d++){e[d].style.width=c.offsetWidth}}}};return a}());DISQUS.db=(function(){var b={};function a(){var d=localStorage.getItem("disqus_embed");return d?DISQUS.json.parse(d):{}}function c(d){try{localStorage.setItem("disqus_embed",DISQUS.json.stringify(d))}catch(f){}}b.available=function(){try{return !!window.localStorage}catch(d){return false}};b.set=function(d,f){if(!b.available()){return false}var e=a();e[d]=f;c(e);return true};b.get=function(d){if(!b.available()){return null}var e=a();return e[d]};return b}());DISQUS.modules.utils=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}(function(c){var d=function(f,e){e=c.lang.extend({},d.defaults,e===undefined?{}:e);this.element=f;this.options=e;this.content=null;this.returnTo=null;this.enabled=true;this.init()};function b(f){if(f.title){f.setAttribute("original-title",f.title);f.removeAttribute("title")}}d.prototype={init:function(){var f=this;var i=this.element;var g=this.options;if(g.trigger==="click"){var e;var j;var h=function(){f.enter();c.events.remove(i,"click",e);setTimeout(function(){j=c.events.add(document,"click",k)},0)};e=c.events.add(i,"click",h);var k=function(m){m=m||window.event;var l=m.target||m.srcElement;if(!c.nodes.closest(l,".dsq-tooltip-outer")){f.hide();c.events.remove(document,"click",j);e=c.events.add(i,"click",h)}}}else{if(g.trigger){c.events.add(i,"mouseout",function(){f.leave()});c.events.add(i,"mouseover",function(){f.enter()})}}},show:function(){var h=this.getTitle();if(h&&this.enabled){var i=this.outer();var g=c.nodes.get(".dsq-tooltip-inner",i)[0];var f;if(this.options.contentId){f="big";this.content=c.nodes.get("#"+this.options.contentId);this.returnTo=this.content.parentNode;g.appendChild(this.content);this.content.setAttribute("style","display:block !important")}else{f="small";c.nodes.addClass(i,"dsq-tooltip-small");g[this.options.html?"innerHTML":(typeof g.innerText!=="string"?"textContent":"innerText")]=h}i.className="";c.nodes.addClass(i,"dsq-tooltip-outer");c.nodes.addClass(i,"dsq-tooltip-"+f);i.style.visibility="hidden";i.style.top="0";i.style.left="0";i.style.display="block";var e=document.getElementsByTagName("body")[0];e.appendChild(i);this.reposition()}},reposition:function(){var e=this;var i=this.outer();var f=c.nodes.getPosition(this.element);pos={left:f[0],top:f[1]};pos=c.lang.extend({},pos,{width:this.element.offsetWidth,height:this.element.offsetHeight});var g=i.offsetWidth,h=i.offsetHeight;i.style.top=pos.top-h+"px";i.style.left=pos.left+"px";i.style.backgroundPosition=(pos.width/2)+"px bottom";if(this.options.fade){}else{i.style.visibility="visible";i.style.opacity=this.options.opacity}},hide:function(){if(this.options.fade){}else{if(this.content){this.content.setAttribute("style","display:none !important");this.returnTo.appendChild(this.content)}this.outer().style.visibility="hidden"}},getTitle:function(){var h,f=this.element,g=this.options;b(f);if(typeof g.title=="string"){h=f.getAttribute(g.title=="title"?"original-title":g.title)}else{if(typeof g.title=="function"){h=g.title.call(f)}}h=h&&h.replace(/(^\s*|\s*$)/,"");return h||g.fallback},outer:function(){if(!this._outer){this._outer=document.createElement("div");var e=this._outer;e.className="dsq-tooltip-outer";e.style.position="absolute";e.style.zIndex="9999";e.innerHTML='<div class="dsq-tooltip dsq-cleanslate">  <div class="dsq-tooltip-notch"></div>  <div class="dsq-tooltip-inner"></div></div>'}return this._outer},validate:function(){if(!this.$element[0].parentNode){this.hide()}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},leave:function(){if(this.hoverState==="out"){return}this.hoverState="out";if(this.options.delayOut===0){this.hide()}else{setTimeout(function(){if(this.hoverState=="out"){this.hide()}},this.options.delayOut)}},enter:function(){if(this.hoverState==="in"){return}this.hoverState="in";if(this.options.delayIn===0){this.show()}else{setTimeout(function(){if(this.hoverState=="in"){this.show()}},this.options.delayIn)}}};d.defaults={delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,opacity:0.95,title:"title",trigger:"hover",contentId:null,noclip:false};var a=function(f,e){c.Tooltip.call(this,f,e)};a.prototype=c.lang.extend({},d.prototype);a.prototype.show=function(){var e=this;c.Tooltip.prototype.show.call(this);var f=function(h){h=h||window.event;var g=h.target||h.srcElement;if(!c.nodes.closest(g,".dsq-tooltip-outer")){e.hide();c.events.remove(document,"click",documentListener)}};documentListener=c.events.add(document,"click",f)};c.Tooltip=d;c.ManualTooltip=a})(DISQUS);DISQUS.modules.tooltip=true;
/*
 * easyXDM
 * http://easyxdm.net/
 * Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
(function(J,c,l,G,g,C){var b=this;var j=Math.floor(Math.random()*100)*100;var m=Function.prototype;var M=/^(http.?:\/\/([^\/\s]+))/;var N=/[\-\w]+\/\.\.\//;var A=/([^:])\/\//g;var D="";var k={};var I=J.easyXDM;var S;var Q="easyXDM_";var z;function x(U,W){var V=typeof U[W];return V=="function"||(!!(V=="object"&&U[W]))||V=="unknown"}function q(U,V){return !!(typeof(U[V])=="object"&&U[V])}function n(U){return Object.prototype.toString.call(U)==="[object Array]"}var r,t;if(x(J,"addEventListener")){r=function(W,U,V){W.addEventListener(U,V,false)};t=function(W,U,V){W.removeEventListener(U,V,false)}}else{if(x(J,"attachEvent")){r=function(U,W,V){U.attachEvent("on"+W,V)};t=function(U,W,V){U.detachEvent("on"+W,V)}}else{throw new Error("Browser not supported")}}var T=false,F=[],H;if("readyState" in c){H=c.readyState;T=H=="complete"||(~navigator.userAgent.indexOf("AppleWebKit/")&&(H=="loaded"||H=="interactive"))}else{T=!!c.body}function o(){o=m;T=true;for(var U=0;U<F.length;U++){F[U]()}F.length=0}if(!T){if(x(J,"addEventListener")){r(c,"DOMContentLoaded",o)}else{r(c,"readystatechange",function(){if(c.readyState=="complete"){o()}});if(c.documentElement.doScroll&&J===top){(function e(){if(T){return}try{c.documentElement.doScroll("left")}catch(U){G(e,1);return}o()}())}}r(J,"load",o)}function B(V,U){if(T){V.call(U);return}F.push(function(){V.call(U)})}function i(){var W=parent;if(D!==""){for(var U=0,V=D.split(".");U<V.length;U++){W=W[V[U]]}}return W.easyXDM}function d(U){J.easyXDM=I;D=U;if(D){Q="easyXDM_"+D.replace(".","_")+"_"}return k}function E(U,V){if(U.currentStyle){return U.currentStyle[V]}else{if(J.getComputedStyle){return c.defaultView.getComputedStyle(U,null).getPropertyValue(V)}}}function u(U){return U.match(M)[2]}function f(U){return U.match(M)[1]}function w(U){U=U.replace(A,"$1/");if(!U.match(/^(http||https):\/\//)){var V=(U.substring(0,1)==="/")?"":l.pathname;if(V.substring(V.length-1)!=="/"){V=V.substring(0,V.lastIndexOf("/")+1)}U=l.protocol+"//"+l.host+V+U}while(N.test(U)){U=U.replace(N,"")}return U}function L(U,Y){function X(){var ac=U.indexOf("#"),ae="";if(ac!==-1){ae="&"+U.substring(ac+1);U=U.substring(0,ac)}var ad=[];for(var ab in Y){if(Y.hasOwnProperty(ab)){ad.push(ab+"="+C(Y[ab]))}}return U+"#"+ad.join("&")+ae}var aa="",W=U.indexOf("#");if(W!==-1){return X()}var Z=[];for(var V in Y){if(Y.hasOwnProperty(V)){Z.push(V+"="+C(Y[V]))}}return U+((U.indexOf("?")===-1)?"?":"&")+Z.join("&")+aa}var O=(function(){function W(){var ab={},ac,aa=l.hash.substring(1).split("&"),Z=aa.length;while(Z--){ac=aa[Z].split("=");if(ac[0].substring(0,4)=="xdm_"){ab[ac[0]]=g(ac[1])}}return ab}if(l.href.indexOf("#")!==-1){return W()}var X={},Y,V=l.search.substring(1).split("&"),U=V.length;while(U--){Y=V[U].split("=");X[Y[0]]=g(Y[1])}return X}());function p(U){return typeof U==="undefined"}function K(){var V={};var W={a:[1,2,3]},U='{"a":[1,2,3]}';if(JSON&&typeof JSON.stringify==="function"&&JSON.stringify(W).replace((/\s/g),"")===U){return JSON}if(Object.toJSON){if(Object.toJSON(W).replace((/\s/g),"")===U){V.stringify=Object.toJSON}}if(typeof String.prototype.evalJSON==="function"){W=U.evalJSON();if(W.a&&W.a.length===3&&W.a[2]===3){V.parse=function(X){return X.evalJSON()}}}if(V.stringify&&V.parse){K=function(){return V};return V}return null}function P(U,V,W){var Y;for(var X in V){if(V.hasOwnProperty(X)){if(X in U){Y=V[X];if(typeof Y==="object"){P(U[X],Y,W)}else{if(!W){U[X]=V[X]}}}else{U[X]=V[X]}}}return U}function a(){var U=c.createElement("iframe");U.name=Q+"TEST";P(U.style,{position:"absolute",left:"-2000px",top:"0px"});c.body.appendChild(U);z=!(U.contentWindow===J.frames[U.name]);c.body.removeChild(U)}function v(U){if(p(z)){a()}var W;if(z&&!(~navigator.userAgent.indexOf("Firefox"))){W=c.createElement('<iframe name="'+U.props.name+'"/>')}else{W=c.createElement("IFRAME");W.name=U.props.name}W.id=W.name=U.props.name;delete U.props.name;if(U.onLoad){r(W,"load",U.onLoad)}if(typeof U.container=="string"){U.container=c.getElementById(U.container)}if(!U.container){if(typeof S=="undefined"){S=E(c.body,"direction")=="rtl"}W.style.position="absolute";W.style[(S?"right":"left")]="-2000px";W.style.top="0px";U.container=c.body}var V=U.props.src;delete U.props.src;P(W,U.props);W.border=W.frameBorder=0;if(U.appendElement){U.container.appendChild(W)}else{U.container.insertBefore(W,U.container.firstChild)}W.src=V;U.props.src=V;return W}function R(X,W){if(typeof X=="string"){X=[X]}var V,U=X.length;while(U--){V=X[U];V=new RegExp(V.substr(0,1)=="^"?V:("^"+V.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"));if(V.test(W)){return true}}return false}function h(W){var ab=W.protocol,V;W.isHost=W.isHost||p(O.xdm_p);if(!W.props){W.props={}}if(!W.isHost){W.channel=O.xdm_c;W.secret=O.xdm_s;W.remote=O.xdm_e;ab=O.xdm_p;if(W.acl&&!R(W.acl,W.remote)){throw new Error("Access denied for "+W.remote)}}else{W.remote=w(W.remote);W.channel=W.channel||"default"+j++;W.secret=Math.random().toString(16).substring(2);if(p(ab)){if(f(l.href)==f(W.remote)){ab="4"}else{if(x(J,"postMessage")||x(c,"postMessage")){ab="1"}else{if(x(J,"ActiveXObject")&&x(J,"execScript")){ab="3"}else{if(navigator.product==="Gecko"&&"frameElement" in J&&navigator.userAgent.indexOf("WebKit")==-1){ab="5"}else{if(W.remoteHelper){W.remoteHelper=w(W.remoteHelper);ab="2"}else{ab="0"}}}}}}}switch(ab){case"0":P(W,{interval:100,delay:2000,useResize:true,useParent:false,usePolling:false},true);if(W.isHost){if(!W.local){var Z=l.protocol+"//"+l.host,U=c.body.getElementsByTagName("img"),aa;var X=U.length;while(X--){aa=U[X];if(aa.src.substring(0,Z.length)===Z){W.local=aa.src;break}}if(!W.local){W.local=J}}var Y={xdm_c:W.channel,xdm_p:0};if(W.local===J){W.usePolling=true;W.useParent=true;W.local=l.protocol+"//"+l.host+l.pathname+l.search;Y.xdm_e=W.local;Y.xdm_pa=1}else{Y.xdm_e=w(W.local)}if(W.container){W.useResize=false;Y.xdm_po=1}W.remote=L(W.remote,Y)}else{P(W,{channel:O.xdm_c,remote:O.xdm_e,useParent:!p(O.xdm_pa),usePolling:!p(O.xdm_po),useResize:W.useParent?false:W.useResize})}V=[new k.stack.HashTransport(W),new k.stack.ReliableBehavior({}),new k.stack.QueueBehavior({encode:true,maxLength:4000-W.remote.length}),new k.stack.VerifyBehavior({initiate:W.isHost})];break;case"1":V=[new k.stack.PostMessageTransport(W)];break;case"2":V=[new k.stack.NameTransport(W),new k.stack.QueueBehavior(),new k.stack.VerifyBehavior({initiate:W.isHost})];break;case"3":V=[new k.stack.NixTransport(W)];break;case"4":V=[new k.stack.SameOriginTransport(W)];break;case"5":V=[new k.stack.FrameElementTransport(W)];break}V.push(new k.stack.QueueBehavior({lazy:W.lazy,remove:true}));return V}function y(X){var Y,W={incoming:function(aa,Z){this.up.incoming(aa,Z)},outgoing:function(Z,aa){this.down.outgoing(Z,aa)},callback:function(Z){this.up.callback(Z)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(var V=0,U=X.length;V<U;V++){Y=X[V];P(Y,W,true);if(V!==0){Y.down=X[V-1]}if(V!==U-1){Y.up=X[V+1]}}return Y}function s(U){U.up.down=U.down;U.down.up=U.up;U.up=U.down=null}P(k,{version:"2.4.10.28",query:O,stack:{},apply:P,getJSONObject:K,whenReady:B,noConflict:d});k.DomHelper={on:r,un:t,requiresJSON:function(U){if(!q(J,"JSON")){c.write('<script type="text/javascript" src="'+U+'"><\/script>')}}};(function(){var U={};k.Fn={set:function(V,W){U[V]=W},get:function(W,V){var X=U[W];if(V){delete U[W]}return X}}}());k.Socket=function(V){var U=y(h(V).concat([{incoming:function(Y,X){V.onMessage(Y,X)},callback:function(X){if(V.onReady){V.onReady(X)}}}])),W=f(V.remote);this.origin=f(V.remote);this.destroy=function(){U.destroy()};this.postMessage=function(X){U.outgoing(X,W)};U.init()};k.Rpc=function(W,V){if(V.local){for(var Y in V.local){if(V.local.hasOwnProperty(Y)){var X=V.local[Y];if(typeof X==="function"){V.local[Y]={method:X}}}}}var U=y(h(W).concat([new k.stack.RpcBehavior(this,V),{callback:function(Z){if(W.onReady){W.onReady(Z)}}}]));this.origin=f(W.remote);this.destroy=function(){U.destroy()};U.init()};k.stack.SameOriginTransport=function(V){var W,Y,X,U;return(W={outgoing:function(aa,ab,Z){X(aa);if(Z){Z()}},destroy:function(){if(Y){Y.parentNode.removeChild(Y);Y=null}},onDOMReady:function(){U=f(V.remote);if(V.isHost){P(V.props,{src:L(V.remote,{xdm_e:l.protocol+"//"+l.host+l.pathname,xdm_c:V.channel,xdm_p:4}),name:Q+V.channel+"_provider"});Y=v(V);k.Fn.set(V.channel,function(Z){X=Z;G(function(){W.up.callback(true)},0);return function(aa){W.up.incoming(aa,U)}})}else{X=i().Fn.get(V.channel,true)(function(Z){W.up.incoming(Z,U)});G(function(){W.up.callback(true)},0)}},init:function(){B(W.onDOMReady,W)}})};k.stack.PostMessageTransport=function(X){var Z,aa,V,W;function U(ab){if(ab.origin){return ab.origin}if(ab.uri){return f(ab.uri)}if(ab.domain){return l.protocol+"//"+ab.domain}throw"Unable to retrieve the origin of the event"}function Y(ac){var ab=U(ac);if(ab==W&&ac.data.substring(0,X.channel.length+1)==X.channel+" "){Z.up.incoming(ac.data.substring(X.channel.length+1),ab)}}return(Z={outgoing:function(ac,ad,ab){V.postMessage(X.channel+" "+ac,ad||W);if(ab){ab()}},destroy:function(){t(J,"message",Y);if(aa){V=null;aa.parentNode.removeChild(aa);aa=null}},onDOMReady:function(){W=f(X.remote);if(X.isHost){r(J,"message",function ab(ac){if(ac.data==X.channel+"-ready"){V=("postMessage" in aa.contentWindow)?aa.contentWindow:aa.contentWindow.document;t(J,"message",ab);r(J,"message",Y);G(function(){Z.up.callback(true)},0)}});P(X.props,{src:L(X.remote,{xdm_e:l.protocol+"//"+l.host,xdm_c:X.channel,xdm_p:1}),name:Q+X.channel+"_provider"});aa=v(X)}else{r(J,"message",Y);V=("postMessage" in J.parent)?J.parent:J.parent.document;V.postMessage(X.channel+"-ready",W);G(function(){Z.up.callback(true)},0)}},init:function(){B(Z.onDOMReady,Z)}})};k.stack.FrameElementTransport=function(V){var W,Y,X,U;return(W={outgoing:function(aa,ab,Z){X.call(this,aa);if(Z){Z()}},destroy:function(){if(Y){Y.parentNode.removeChild(Y);Y=null}},onDOMReady:function(){U=f(V.remote);if(V.isHost){P(V.props,{src:L(V.remote,{xdm_e:f(l.href),xdm_c:V.channel,xdm_p:5}),name:Q+V.channel+"_provider"});Y=v(V);Y.fn=function(Z){delete Y.fn;X=Z;G(function(){W.up.callback(true)},0);return function(aa){W.up.incoming(aa,U)}}}else{if(c.referrer&&f(c.referrer)!=O.xdm_e){J.top.location=O.xdm_e}X=J.frameElement.fn(function(Z){W.up.incoming(Z,U)});W.up.callback(true)}},init:function(){B(W.onDOMReady,W)}})};k.stack.NixTransport=function(V){var X,Z,Y,U,W;return(X={outgoing:function(ab,ac,aa){Y(ab);if(aa){aa()}},destroy:function(){W=null;if(Z){Z.parentNode.removeChild(Z);Z=null}},onDOMReady:function(){U=f(V.remote);if(V.isHost){try{if(!x(J,"getNixProxy")){J.execScript("Class NixProxy\n    Private m_parent, m_child, m_Auth\n\n    Public Sub SetParent(obj, auth)\n        If isEmpty(m_Auth) Then m_Auth = auth\n        SET m_parent = obj\n    End Sub\n    Public Sub SetChild(obj)\n        SET m_child = obj\n        m_parent.ready()\n    End Sub\n\n    Public Sub SendToParent(data, auth)\n        If m_Auth = auth Then m_parent.send(CStr(data))\n    End Sub\n    Public Sub SendToChild(data, auth)\n        If m_Auth = auth Then m_child.send(CStr(data))\n    End Sub\nEnd Class\nFunction getNixProxy()\n    Set GetNixProxy = New NixProxy\nEnd Function\n","vbscript")}W=getNixProxy();W.SetParent({send:function(ac){X.up.incoming(ac,U)},ready:function(){G(function(){X.up.callback(true)},0)}},V.secret);Y=function(ac){W.SendToChild(ac,V.secret)}}catch(ab){throw new Error("Could not set up VBScript NixProxy:"+ab.message)}P(V.props,{src:L(V.remote,{xdm_e:f(l.href),xdm_c:V.channel,xdm_s:V.secret,xdm_p:3}),name:Q+V.channel+"_provider"});Z=v(V);Z.contentWindow.opener=W}else{if(c.referrer&&f(c.referrer)!=O.xdm_e){J.top.location=O.xdm_e}try{W=J.opener}catch(aa){throw new Error("Cannot access window.opener")}W.SetChild({send:function(ac){b.setTimeout(function(){X.up.incoming(ac,U)},0)}});Y=function(ac){W.SendToParent(ac,V.secret)};G(function(){X.up.callback(true)},0)}},init:function(){B(X.onDOMReady,X)}})};k.stack.NameTransport=function(Y){var Z;var ab,af,X,ad,ae,V,U;function ac(ai){var ah=Y.remoteHelper+(ab?"#_3":"#_2")+Y.channel;af.contentWindow.sendMessage(ai,ah)}function aa(){if(ab){if(++ad===2||!ab){Z.up.callback(true)}}else{ac("ready");Z.up.callback(true)}}function ag(ah){Z.up.incoming(ah,V)}function W(){if(ae){G(function(){ae(true)},0)}}return(Z={outgoing:function(ai,aj,ah){ae=ah;ac(ai)},destroy:function(){af.parentNode.removeChild(af);af=null;if(ab){X.parentNode.removeChild(X);X=null}},onDOMReady:function(){ab=Y.isHost;ad=0;V=f(Y.remote);Y.local=w(Y.local);if(ab){k.Fn.set(Y.channel,function(ai){if(ab&&ai==="ready"){k.Fn.set(Y.channel,ag);aa()}});U=L(Y.remote,{xdm_e:Y.local,xdm_c:Y.channel,xdm_p:2});P(Y.props,{src:U+"#"+Y.channel,name:Q+Y.channel+"_provider"});X=v(Y)}else{Y.remoteHelper=Y.remote;k.Fn.set(Y.channel,ag)}af=v({props:{src:Y.local+"#_4"+Y.channel},onLoad:function ah(){t(af,"load",ah);k.Fn.set(Y.channel+"_load",W);(function ai(){if(typeof af.contentWindow.sendMessage=="function"){aa()}else{G(ai,50)}}())}})},init:function(){B(Z.onDOMReady,Z)}})};k.stack.HashTransport=function(W){var Z;var ae=this,ac,X,U,aa,aj,Y,ai;var ad,V;function ah(al){if(!ai){return}var ak=W.remote+"#"+(aj++)+"_"+al;((ac||!ad)?ai.contentWindow:ai).location=ak}function ab(ak){aa=ak;Z.up.incoming(aa.substring(aa.indexOf("_")+1),V)}function ag(){if(!Y){return}var ak=Y.location.href,am="",al=ak.indexOf("#");if(al!=-1){am=ak.substring(al)}if(am&&am!=aa){ab(am)}}function af(){X=setInterval(ag,U)}return(Z={outgoing:function(ak,al){ah(ak)},destroy:function(){J.clearInterval(X);if(ac||!ad){ai.parentNode.removeChild(ai)}ai=null},onDOMReady:function(){ac=W.isHost;U=W.interval;aa="#"+W.channel;aj=0;ad=W.useParent;V=f(W.remote);if(ac){W.props={src:W.remote,name:Q+W.channel+"_provider"};if(ad){W.onLoad=function(){Y=J;af();Z.up.callback(true)}}else{var am=0,ak=W.delay/50;(function al(){if(++am>ak){throw new Error("Unable to reference listenerwindow")}try{Y=ai.contentWindow.frames[Q+W.channel+"_consumer"]}catch(an){}if(Y){af();Z.up.callback(true)}else{G(al,50)}}())}ai=v(W)}else{Y=J;af();if(ad){ai=parent;Z.up.callback(true)}else{P(W,{props:{src:W.remote+"#"+W.channel+new Date(),name:Q+W.channel+"_consumer"},onLoad:function(){Z.up.callback(true)}});ai=v(W)}}},init:function(){B(Z.onDOMReady,Z)}})};k.stack.ReliableBehavior=function(V){var X,Z;var Y=0,U=0,W="";return(X={incoming:function(ac,aa){var ab=ac.indexOf("_"),ad=ac.substring(0,ab).split(",");ac=ac.substring(ab+1);if(ad[0]==Y){W="";if(Z){Z(true)}}if(ac.length>0){X.down.outgoing(ad[1]+","+Y+"_"+W,aa);if(U!=ad[1]){U=ad[1];X.up.incoming(ac,aa)}}},outgoing:function(ac,aa,ab){W=ac;Z=ab;X.down.outgoing(U+","+(++Y)+"_"+ac,aa)}})};k.stack.QueueBehavior=function(W){var Z,aa=[],ad=true,X="",ac,U=0,V=false,Y=false;function ab(){if(W.remove&&aa.length===0){s(Z);return}if(ad||aa.length===0||ac){return}ad=true;var ae=aa.shift();Z.down.outgoing(ae.data,ae.origin,function(af){ad=false;if(ae.callback){G(function(){ae.callback(af)},0)}ab()})}return(Z={init:function(){if(p(W)){W={}}if(W.maxLength){U=W.maxLength;Y=true}if(W.lazy){V=true}else{Z.down.init()}},callback:function(af){ad=false;var ae=Z.up;ab();ae.callback(af)},incoming:function(ah,af){if(Y){var ag=ah.indexOf("_"),ae=parseInt(ah.substring(0,ag),10);X+=ah.substring(ag+1);if(ae===0){if(W.encode){X=g(X)}Z.up.incoming(X,af);X=""}}else{Z.up.incoming(ah,af)}},outgoing:function(ai,af,ah){if(W.encode){ai=C(ai)}var ae=[],ag;if(Y){while(ai.length!==0){ag=ai.substring(0,U);ai=ai.substring(ag.length);ae.push(ag)}while((ag=ae.shift())){aa.push({data:ae.length+"_"+ag,origin:af,callback:ae.length===0?ah:null})}}else{aa.push({data:ai,origin:af,callback:ah})}if(V){Z.down.init()}else{ab()}},destroy:function(){ac=true;Z.down.destroy()}})};k.stack.VerifyBehavior=function(Y){var Z,X,V,W=false;function U(){X=Math.random().toString(16).substring(2);Z.down.outgoing(X)}return(Z={incoming:function(ac,aa){var ab=ac.indexOf("_");if(ab===-1){if(ac===X){Z.up.callback(true)}else{if(!V){V=ac;if(!Y.initiate){U()}Z.down.outgoing(ac)}}}else{if(ac.substring(0,ab)===V){Z.up.incoming(ac.substring(ab+1),aa)}}},outgoing:function(ac,aa,ab){Z.down.outgoing(X+"_"+ac,aa,ab)},callback:function(aa){if(Y.initiate){U()}}})};k.stack.RpcBehavior=function(aa,V){var X,ac=V.serializer||K();var ab=0,Z={};function U(ad){ad.jsonrpc="2.0";X.down.outgoing(ac.stringify(ad))}function Y(ad,af){var ae=Array.prototype.slice;return function(){var ag=arguments.length,ai,ah={method:af};if(ag>0&&typeof arguments[ag-1]==="function"){if(ag>1&&typeof arguments[ag-2]==="function"){ai={success:arguments[ag-2],error:arguments[ag-1]};ah.params=ae.call(arguments,0,ag-2)}else{ai={success:arguments[ag-1]};ah.params=ae.call(arguments,0,ag-1)}Z[""+(++ab)]=ai;ah.id=ab}else{ah.params=ae.call(arguments,0)}if(ad.namedParams&&ah.params.length===1){ah.params=ah.params[0]}U(ah)}}function W(ak,aj,af,ai){if(!af){if(aj){U({id:aj,error:{code:-32601,message:"Procedure not found."}})}return}var ah,ae;if(aj){ah=function(al){ah=m;U({id:aj,result:al})};ae=function(al,am){ae=m;var an={id:aj,error:{code:-32099,message:al}};if(am){an.error.data=am}U(an)}}else{ah=ae=m}if(!n(ai)){ai=[ai]}try{var ad=af.method.apply(af.scope,ai.concat([ah,ae]));if(!p(ad)){ah(ad)}}catch(ag){ae(ag.message)}}return(X={incoming:function(ae,ad){var af=ac.parse(ae);if(af.method){if(V.handle){V.handle(af,U)}else{W(af.method,af.id,V.local[af.method],af.params)}}else{var ag=Z[af.id];if(af.error){if(ag.error){ag.error(af.error)}}else{if(ag.success){ag.success(af.result)}}delete Z[af.id]}},init:function(){if(V.remote){for(var ad in V.remote){if(V.remote.hasOwnProperty(ad)){aa[ad]=Y(V.remote[ad],ad)}}}X.down.init()},destroy:function(){for(var ad in V.remote){if(V.remote.hasOwnProperty(ad)&&aa.hasOwnProperty(ad)){delete aa[ad]}}X.down.destroy()}})};b.easyXDM=k})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);DISQUS.net={easyXDM:easyXDM.noConflict("DISQUS.net"),rpc:function(b,a){if(!b.local){DISQUS.extend(b,{local:DISQUS.jsonData.integration.receiver_url||window.location.href,remoteHelper:DISQUS.jsonData.media_url+"/html/xdm.html"})}DISQUS.extend(a,{serializer:{parse:DISQUS.json.parse,stringify:DISQUS.json.stringify}});var c=new DISQUS.net.easyXDM.Rpc(b,a);c.isReady=false;return c}};(function(){var JSON2={};var corrupted=false;function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"&&!corrupted){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}JSON2.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})};JSON2.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")};DISQUS.json={};var obj={a:[1,2,3]},json='{"a":[1,2,3]}';var JSON;if(JSON&&typeof JSON.stringify==="function"&&JSON.stringify(obj).replace((/\s/g),"")===json){DISQUS.json=JSON}if(Object.toJSON){if(Object.toJSON(obj).replace((/\s/g),"")===json){DISQUS.json.stringify=Object.toJSON}}if(typeof String.prototype.evalJSON==="function"){obj=json.evalJSON();if(obj.a&&obj.a.length===3&&obj.a[2]===3){DISQUS.json.parse=function(str){return str.evalJSON()}}}(function(){var arr=[1,2,3];if(typeof arr.toJSON==="function"){arr=arr.toJSON();corrupted=!(arr&&arr.length===3&&arr[2]===3)}}());if(!DISQUS.json.stringify||!DISQUS.json.parse){DISQUS.json={stringify:JSON2.stringify,parse:JSON2.parse}}}());DISQUS.addBlocks("defaults")(function($d){$d.blocks.comment=function block_comment($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("    ");return $h.compile()}};$d.blocks.postSharingOptions=function block_postSharingOptions($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");if(request.is_authenticated){$h.put("\x3Cdiv class\x3D\x22dsq\x2Dsharing\x2Doptions dsq\x2Dtt\x22");if(!request.display_sharing_options){$h.put("style\x3D\x22display:none\x3B\x22")}$h.put("title\x3D\x22");$h.put(trans("Toggle to share your comment"));$h.put("\x22\x3E");if(request.sharing.twitter.enabled||request.sharing.facebook.enabled){$h.put("\x3Cspan class\x3D\x22dsq\x2Dsharing\x2Doptions\x2Dlabel\x22\x3E");$h.put(trans("Share on"));$h.put("\x3C/span\x3E");if(request.sharing.twitter.enabled){$h.put("\x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dshare\x2Dtoggle\x22 id\x3D\x22dsq\x2Dshare\x2Dtwitter\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27share.toggle\x27, this, \x27twitter\x27");if(comment){$h.put(",");$h.put(comment.id)}$h.put(")\x3B\x22\x3E\x3Cspan class\x3D\x22dsq\x2Dshare\x2Dicon\x22\x3E\x3C/span\x3E\x3Cspan class\x3D\x22dsq\x2Dshare\x2Dstatus\x22\x3E\x3C/span\x3E\x3C/button\x3E")}if(request.sharing.facebook.enabled){$h.put("\x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dshare\x2Dtoggle\x22 id\x3D\x22dsq\x2Dshare\x2Dfacebook\x22onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27share.toggle\x27, this, \x27facebook\x27");if(comment){$h.put(",");$h.put(comment.id)}$h.put(")\x3B\x22\x3E\x3Cspan class\x3D\x22dsq\x2Dshare\x2Dicon\x22\x3E\x3C/span\x3E\x3Cspan class\x3D\x22dsq\x2Dshare\x2Dstatus\x22\x3E\x3C/span\x3E\x3C/button\x3E")}$h.put("\x3Cinput style\x3D\x22display: none\x22 type\x3D\x22checkbox\x22 id\x3D\x22dsq\x2Dsharing\x2Dtwitter");if(comment){$h.put("\x2D");$h.put(comment.id)}$h.put("\x22 /\x3E    \x3Cinput style\x3D\x22display: none\x22 type\x3D\x22checkbox\x22 id\x3D\x22dsq\x2Dsharing\x2Dfacebook");if(comment){$h.put("\x2D");$h.put(comment.id)}$h.put("\x22 /\x3E")}$h.put("\x3C/div\x3E")}return $h.compile()}};$d.blocks.googleForm=function block_googleForm($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dgoogle\x2Dcontent\x22 class\x3D\x22dsq\x2Dauth\x2Dform\x22\x3E    \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E      \x3Ch3\x3E");$h.put(trans("Sign in with your Google account"));$h.put("\x3C/h3\x3E      \x3Cp\x3E");$h.put(trans("Click the button below to continue."));$h.put("\x3C/p\x3E      \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dgoogle\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E    \x3C/div\x3E    \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none\x22\x3E      \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/dsq\x2Dloader.gif\x22\x3E      \x3Cp\x3E");$h.put(trans("Connecting to Google"));$h.put("\x3C/p\x3E    \x3C/div\x3E    \x3Cp\x3E\x3Csmall\x3E");$h.put(trans("You might need to disable your popup blocker to sign in."));$h.put("\x3C/small\x3E\x3C/p\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.facebookLoginForm=function block_facebookLoginForm($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dfacebook\x2Dcontent\x22 class\x3D\x22dsq\x2Dauth\x2Dform\x22\x3E    \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E      ");if(typeof title==="undefined"||title){$h.put("      \x3Ch3\x3E");$h.put(trans("Sign in with your Facebook account"));$h.put("\x3C/h3\x3E      ")}$h.put("      \x3Cp\x3E");$h.put(trans("Click the button below to continue."));$h.put("\x3C/p\x3E      \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dfacebook\x2Dframe\x22\x3E        \x3C!\x2D\x2D frame goes here \x2D\x2D\x3E      \x3C/div\x3E    \x3C/div\x3E    \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none\x22\x3E      \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/dsq\x2Dloader.gif\x22 /\x3E      \x3Cp\x3E");$h.put(trans("Connecting to Facebook"));$h.put("\x3C/p\x3E    \x3C/div\x3E    \x3Cp\x3E\x3Csmall\x3E");$h.put(trans("You might need to disable your popup blocker to sign in."));$h.put("\x3C/small\x3E\x3C/p\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.reportConfirmation=function block_reportConfirmation($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cbr/\x3E  \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.popup.close(null, true)\x3B\x22\x3E    \x3Cstrong\x3E");$h.put(trans("No"));$h.put("\x3C/strong\x3E, ");$h.put(trans("Never mind"));$h.put("  \x3C/button\x3E  \x26nbsp\x3B\x26nbsp\x3B\x26nbsp\x3B  \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27comments.report\x27, ");$h.put(id);$h.put(", true)\x3B\x22\x3E    \x3Cstrong\x3E");$h.put(trans("Yes"));$h.put("\x3C/strong\x3E, ");$h.put(trans("Flag inappropriate comment"));$h.put("  \x3C/button\x3E  \x3Cbr/\x3E\x3Cbr/\x3E  ");$h.put(trans("This will flag comments for moderators to take action."));return $h.compile()}};$d.blocks.globalToolbarDropdown=function block_globalToolbarDropdown($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");$h.put("  \x3Cdiv id\x3D\x22dsq\x2Dtoolbar\x2Ddropdown\x22\x3E    \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return false\x22 class\x3D\x22dsq\x2Dtoolbar\x2Dlogo dsq\x2Dtoolbar\x2Ditem\x22\x3EDisqus\x3C/a\x3E    \x3Cdiv id\x3D\x22dsq\x2Dtoolbar\x2Ddropdown\x2Dwrap\x22 style\x3D\x22display: none\x22\x3E      \x3Cul\x3E        ");if(!request.is_authenticated){$h.put("            \x3Cli\x3E\x3Ca href\x3D\x22#\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27auth.login\x27)\x3B return false\x22\x3E");$h.put(trans("Login"));$h.put("\x3C/a\x3E\x3C/li\x3E        ")}else{$h.put("            ");if(!request.is_remote&&!forum.disqus_auth_disabled){$h.put("                \x3Cli\x3E\x3Ca href\x3D\x22#\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27profile.dashboard\x27)\x3B return false\x22\x3E");$h.put(trans("Dashboard"));$h.put("\x3C/a\x3E\x3C/li\x3E                \x3Cli\x3E\x3Ca href\x3D\x22#\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27profile.edit\x27)\x3B return false\x22\x3E");$h.put(trans("Edit Profile"));$h.put("\x3C/a\x3E\x3C/li\x3E            ")}$h.put("            ");if(request.is_sso&&config.sso&&config.sso.logout){$h.put("              \x3Cli\x3E\x3Ca href\x3D\x22");$h.put(config.sso.logout);$h.put("\x22\x3E");$h.put(trans("Logout"));$h.put("\x3C/a\x3E\x3C/li\x3E            ")}else{$h.put("              \x3Cli\x3E\x3Ca href\x3D\x22");$h.put(urls.logout);$h.put("?ctkn\x3D");$h.put(context.csrf_token);$h.put("\x22\x3E");$h.put(trans("Logout"));$h.put("\x3C/a\x3E\x3C/li\x3E            ")}$h.put("        ")}$h.put("            \x3Cli\x3E\x3Ca href\x3D\x22http://disqus.com\x22 target\x3D\x22_blank\x22\x3E");$h.put(trans("About Disqus"));$h.put("\x3C/a\x3E\x3C/li\x3E      \x3C/ul\x3E    \x3C/div\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.moderatorActionsPopup=function block_moderatorActionsPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");$h.put("\x3Cdiv class\x3D\x22dsq\x2Dmoderate\x2Doptions\x22\x3E    \x3Ctable\x3E      \x3Ctr\x3E        \x3Ctd\x3E");$h.put(trans("Actions"));$h.put("\x3C/td\x3E        \x3Ctd\x3E          \x3Cul\x3E            \x3Cli\x3E");if(thread.closed){$h.put("\x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.open\x27)\x3B\x22\x3E");$h.put(trans("Open thread"));$h.put("\x3C/a\x3E")}else{$h.put("\x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtlp.actions.fire(\x27thread.close\x27)\x3B\x22\x3E");$h.put(trans("Close thread"));$h.put("\x3C/a\x3E")}$h.put("\x3C/li\x3E          \x3C/ul\x3E        \x3C/td\x3E      \x3C/tr\x3E    \x3C/table\x3E  \x3C/div\x3E  \x3Cp\x3E");$h.put(trans("Go to the full"));$h.put("\x3Ca href\x3D\x22");$h.put(urls.moderate_threads);$h.put("\x22 target\x3D\x22_blank\x22\x3E");$h.put(trans("moderate panel"));$h.put("\x3C/a\x3E");$h.put(trans("for more options"));$h.put(".\x3C/p\x3E");$h.put("  ");return $h.compile()}};$d.blocks.comments=function block_comments($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("    \x3Cdiv id\x3D\x22dsq\x2Dedit\x2Dprofile\x2Dsuggestion\x22 style\x3D\x22display:none\x22\x3E        \x3Cp\x3E");$h.put(trans("Thanks for posting."));$h.put(" ");$h.put(trans("Would you like to"));$h.put(" \x3Ca href\x3D\x22#\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27profile.edit\x27)\x3B return false\x22\x3Eedit your profile\x3C/a\x3E?\x3C/p\x3E    \x3C/div\x3E    ");$d.each(comments,function(comment,$index,$collection){var $locals={comment:comment,index:$index};$h.put("        ");(function(){var $l={};$d.extend($l,$locals);$d.extend($l,{});$h.put($d.renderBlock("comment",$l))}());$h.put("    ")});return $h.compile()}};$d.blocks.publisherFacebookLoginForm=function block_publisherFacebookLoginForm($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("    \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dfacebook\x2Dcontent\x22 class\x3D\x22dsq\x2Dauth\x2Dform\x22\x3E      \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E        \x3Ch3\x3E");$h.put(trans("Sign in with your Facebook account"));$h.put("\x3C/h3\x3E        \x3Cp\x3E");$h.put(trans("Click the button below to continue."));$h.put("\x3C/p\x3E        \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dfacebook\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E      \x3C/div\x3E      \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none\x22\x3E        \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/dsq\x2Dloader.gif\x22 /\x3E        \x3Cp\x3E");$h.put(trans("Connecting to Facebook"));$h.put("\x3C/p\x3E      \x3C/div\x3E      \x3Cp\x3E\x3Csmall\x3E");$h.put(trans("You might need to disable your popup blocker to sign in."));$h.put("\x3C/small\x3E\x3C/p\x3E    \x3C/div\x3E");return $h.compile()}};$d.blocks.permalinkPopup=function block_permalinkPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("\x3Cstrong\x3E");$h.put(trans("You are anchored to"));$h.put("\x3C/strong\x3E:\x3Cbr/\x3E\x3Cinput type\x3D\x22text\x22 readonly\x3D\x22true\x22 size\x3D\x2250\x22       value\x3D\x22");$h.put(document.location.protocol);$h.put("//");$h.put(document.location.host);$h.put(document.location.pathname);$h.put(document.location.search);$h.put("#comment\x2D");$h.put(postId);$h.put("\x22/\x3E");return $h.compile()}};$d.blocks.openidForm=function block_openidForm($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dauth\x2Dform\x22\x3E    \x3Cp\x3E      \x3Clabel for\x3D\x22dsq\x2Dopenid\x2Durl\x22\x3E");$h.put(trans("OpenID URL"));$h.put(":\x3C/label\x3E      \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E\x3Cinput type\x3D\x22text\x22 id\x3D\x22dsq\x2Dopenid\x2Durl\x22 value\x3D\x22http://\x22/\x3E\x3C/span\x3E    \x3C/p\x3E    \x3Cp\x3E      \x3Clabel for\x3D\x22dsq\x2Dopenid\x2Durl\x22\x3E");$h.put(trans("Display name"));$h.put(":\x3C/label\x3E      \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E\x3Cinput type\x3D\x22text\x22 id\x3D\x22dsq\x2Dopenid\x2Dusername\x22 value\x3D\x22");$h.put(trans("Your Name"));$h.put("\x22/\x3E\x3C/span\x3E    \x3C/p\x3E    \x3Cp\x3E\x3Cbutton class\x3D\x22dsq\x2Dbutton\x22 id\x3D\x22dsq\x2Dopenid\x2Dsubmit\x2Dbutton\x22\x3E");$h.put(trans("Sign in"));$h.put("\x3C/button\x3E\x3C/p\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.loginPopup=function block_loginPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dtabbed\x2Dmodal\x22 id\x3D\x22dsq\x2Dtabbed\x2Dlogin\x2Dmodal\x22\x3E    \x3Cul class\x3D\x22dsq\x2Dmodal\x2Dtabs\x22\x3E      ");if(guestTab){$h.put("      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dguest\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dguest\x22 ");if(!forum.allow_anon_post){$h.put(" style\x3D\x22display: none !important\x22")}$h.put("\x3E\x3Cspan\x3E\x3C/span\x3EGuest\x3C/a\x3E\x3C/li\x3E      ")}$h.put("      ");if(config.sso){$h.put("\x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dsso\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dsso\x22\x3E\x3Cspan\x3E\x3C/span\x3E");$h.put(config.sso.name);$h.put("\x3C/a\x3E\x3C/li\x3E")}$h.put("      ");if(!forum.disqus_auth_disabled){$h.put("      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Ddisqus\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Ddisqus\x22\x3E\x3Cspan\x3E\x3C/span\x3EDisqus\x3C/a\x3E\x3C/li\x3E      ")}$h.put("      ");if(context.switches.google_auth){$h.put("      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dgoogle\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dgoogle\x22\x3E\x3Cspan\x3E\x3C/span\x3EGoogle\x3C/a\x3E\x3C/li\x3E      ")}$h.put("      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dtwitter\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dtwitter\x22\x3E\x3Cspan\x3E\x3C/span\x3ETwitter\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dfacebook\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dfacebook\x22\x3E\x3Cspan\x3E\x3C/span\x3EFacebook\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dyahoo\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dyahoo\x22\x3E\x3Cspan\x3E\x3C/span\x3EYahoo\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dopenid\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dopenid\x22\x3E\x3Cspan\x3E\x3C/span\x3EOpenID\x3C/a\x3E\x3C/li\x3E    \x3C/ul\x3E    \x3Cdiv class\x3D\x22dsq\x2Dtab\x2Dcontainer\x22\x3E      \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dguest\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display: none !important\x22\x3E        \x3Cp\x3E          \x3Clabel for\x3D\x22dsq\x2Dfield\x2Demail\x22 id\x3D\x22dsq\x2Dfield\x2Demail\x2Dlabel\x22\x3E");$h.put(trans("Your email"));$h.put("\x3C/label\x3E          \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E            \x3Cinput type\x3D\x22text\x22              value\x3D\x22");if(config.def_email){$h.put(config.def_email)}else{if(session.email){$h.put(session.email)}}$h.put("\x22 id\x3D\x22dsq\x2Dfield\x2Demail\x22/\x3E            \x3C/span\x3E        \x3C/p\x3E        \x3Cp\x3E          \x3Clabel for\x3D\x22dsq\x2Dfield\x2Dname\x22 id\x3D\x22dsq\x2Dfield\x2Dname\x2Dlabel\x22\x3E");$h.put(trans("Your name"));$h.put("\x3C/label\x3E          \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E            \x3Cinput type\x3D\x22text\x22              value\x3D\x22");if(config.def_name){$h.put(config.def_name)}else{if(session.name){$h.put(session.name)}else{$h.put(trans("Guest"))}}$h.put("\x22 id\x3D\x22dsq\x2Dfield\x2Dname\x22 /\x3E          \x3C/span\x3E        \x3C/p\x3E        \x3Cp\x3E          \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dadd\x2Durl\x22\x3E");$h.put(trans("Optional"));$h.put(": \x3Ca href\x3D\x22#\x22\x3E");$h.put(trans("Link to your website"));$h.put("\x3C/a\x3E\x3C/span\x3E        \x3C/p\x3E        \x3Cp style\x3D\x22display:none !important\x22 id\x3D\x22dsq\x2Doptional\x2Dfield\x2Dwebsite\x22\x3E          \x3Clabel for\x3D\x22dsq\x2Dfield\x2Dwebsite\x22 id\x3D\x22dsq\x2Dfield\x2Dwebsite\x2Dlabel\x22\x3E");$h.put(trans("Your website"));$h.put("\x3C/label\x3E          \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E            \x3Cinput type\x3D\x22text\x22 value\x3D\x22");if(session.url){$h.put(session.url)}$h.put("\x22 id\x3D\x22dsq\x2Dfield\x2Dwebsite\x22 /\x3E          \x3C/span\x3E        \x3C/p\x3E        \x3Cp class\x3D\x22dsq\x2Dlogin\x2Dsubscribe\x22\x3E          \x3Cspan\x3E            \x3Cinput id\x3D\x22dsq\x2Dsubscribe\x2Don\x2Dpost");if(comment){$h.put("\x2D");$h.put(comment.id)}$h.put("\x22 type\x3D\x22checkbox\x22              ");if(request.subscribe_on_post){$h.put("checked\x3D\x22true\x22")}$h.put("/\x3E          \x3C/span\x3E          \x3Clabel for\x3D\x22dsq\x2Dsubscribe\x2Don\x2Dpost");if(comment){$h.put("\x2D");$h.put(comment.id)}$h.put("\x22\x3E");$h.put(trans("Subscribe to all comments by email"));$h.put("\x3C/label\x3E        \x3C/p\x3E        \x3Cp\x3E          \x3Cbutton type\x3D\x22button\x22 id\x3D\x22dsq\x2Dsubmit\x2Dguest\x22 class\x3D\x22dsq\x2Dbutton\x22\x3E");$h.put(trans("Post comment"));$h.put("\x3C/button\x3E        \x3C/p\x3E      \x3C/div\x3E        ");$h.put("        ");if(typeof states.useLoginWindow!=="undefined"&&!states.useLoginWindow){$h.put("            \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Ddisqus\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display: none !important\x22\x3E              \x3C!\x2D\x2D disqus iframe gets inserted here dynamically \x2D\x2D\x3E            \x3C/div\x3E        ")}else{$h.put("        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Ddisqus\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display: none !important\x22\x3E              \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E                \x3Ch3\x3E");$h.put(trans("Sign in with your Disqus account"));$h.put("\x3C/h3\x3E                \x3Cp\x3E");$h.put(trans("Click the button below to continue."));$h.put("\x3C/p\x3E                \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Ddisqus\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E              \x3C/div\x3E            \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none !important\x22\x3E              \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/dsq\x2Dloader.gif\x22 /\x3E              \x3Cp\x3E");$h.put(trans("Connecting to Disqus"));$h.put("\x3C/p\x3E            \x3C/div\x3E            \x3Cp\x3E\x3Csmall\x3E");$h.put(trans("You might need to disable your popup blocker to sign in."));$h.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        ")}$h.put("        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dfacebook\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent\x22 style\x3D\x22display:none !important\x22\x3E            ");if(context.forum_facebook_key){$h.put("                ");(function(){var $l={};$d.extend($l,$locals);$d.extend($l,{});$h.put($d.renderBlock("publisherFacebookLoginForm",$l))}());$h.put("            ")}else{$h.put(" ");$h.put("                ");(function(){var $l={};$d.extend($l,$locals);$d.extend($l,{});$h.put($d.renderBlock("facebookLoginForm",$l))}());$h.put("            ")}$h.put("        \x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dtwitter\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display:none !important\x22\x3E          \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E            \x3Ch3\x3E");$h.put(trans("Sign in with your Twitter account"));$h.put("\x3C/h3\x3E            \x3Cp\x3E");$h.put(trans("Click the button below to continue."));$h.put("\x3C/p\x3E            \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dtwitter\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E          \x3C/div\x3E          \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none !important\x22\x3E            \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/dsq\x2Dloader.gif\x22 /\x3E            \x3Cp\x3E");$h.put(trans("Connecting to Twitter"));$h.put("\x3C/p\x3E          \x3C/div\x3E          \x3Cp\x3E\x3Csmall\x3E");$h.put(trans("You might need to disable your popup blocker to sign in."));$h.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dopenid\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent\x22 style\x3D\x22display:none !important\x22\x3E          ");(function(){var $l={};$d.extend($l,$locals);$d.extend($l,{});$h.put($d.renderBlock("openidForm",$l))}());$h.put("        \x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dgoogle\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent\x22 style\x3D\x22display:none !important\x22\x3E          ");(function(){var $l={};$d.extend($l,$locals);$d.extend($l,{});$h.put($d.renderBlock("googleForm",$l))}());$h.put("        \x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dyahoo\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display: none !important\x22\x3E          \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E            \x3Ch3\x3E");$h.put(trans("Sign in with your Yahoo account"));$h.put("\x3C/h3\x3E            \x3Cp\x3E");$h.put(trans("Click the button below to continue."));$h.put("\x3C/p\x3E            \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dyahoo\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E          \x3C/div\x3E          \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none !important\x22\x3E            \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/dsq\x2Dloader.gif\x22 /\x3E            \x3Cp\x3E");$h.put(trans("Connecting to Yahoo"));$h.put("\x3C/p\x3E          \x3C/div\x3E          \x3Cp\x3E\x3Csmall\x3E");$h.put(trans("You might need to disable your popup blocker to sign in."));$h.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        ");if(config.sso){$h.put("        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dsso\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display:none !important\x22\x3E          \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E            \x3Ch3\x3E");$h.put($d.interpolate(trans("Sign in with your %(account)s account"),{account:config.sso.name}));$h.put("\x3C/h3\x3E            \x3Cp\x3E");$h.put(trans("Click the button below to continue."));$h.put("\x3C/p\x3E            \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dsso\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3Cimg src\x3D\x22");$h.put(config.sso.button);$h.put("\x22/\x3E\x3C/span\x3E\x3C/p\x3E          \x3C/div\x3E          \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none !important\x22\x3E            \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/dsq\x2Dloader.gif\x22 /\x3E            \x3Cp\x3E");$h.put($d.interpolate(trans("Connecting to %(account)s"),{account:config.sso.name}));$h.put("\x3C/p\x3E          \x3C/div\x3E          \x3Cp\x3E\x3Csmall\x3E");$h.put(trans("You might need to disable your popup blocker to sign in."));$h.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        ")}$h.put("    \x3C/div\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.profileEdit=function block_profileEdit($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dtabbed\x2Dmodal\x22 id\x3D\x22dsq\x2Dprofile\x2Dedit\x2Dmodal\x22\x3E    \x3Cul class\x3D\x22dsq\x2Dmodal\x2Dtabs\x22\x3E      ");if(has_unmerged_users){$h.put("      \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Dmerge\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Dmerge\x22\x3E\x3Cspan\x3E\x3C/span\x3EMerging\x3C/a\x3E\x3C/li\x3E      ")}$h.put("      \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Dedit\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Dedit\x22\x3E\x3Cspan\x3E\x3C/span\x3EProfile\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Davatar\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Davatar\x22\x3E\x3Cspan\x3E\x3C/span\x3EAvatar\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Dservices\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Dservices\x22\x3E\x3Cspan\x3E\x3C/span\x3EServices\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Dnotifications\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Dnotifications\x22\x3E\x3Cspan\x3E\x3C/span\x3ENotifications\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Daccount\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Daccount\x22\x3E\x3Cspan\x3E\x3C/span\x3EAccount\x3C/a\x3E\x3C/li\x3E    \x3C/ul\x3E    \x3Cdiv class\x3D\x22dsq\x2Dtab\x2Dcontainer\x22 style\x3D\x22height:90% !important\x3B\x22\x3E        ");if(has_unmerged_users){$h.put("        \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dmerge\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent\x22\x3E\x3C/div\x3E        ")}$h.put("        \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dedit\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Davatar\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dservices\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dnotifications\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Daccount\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E    \x3C/div\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.commentMessage=function block_commentMessage($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22");$h.put(cls);$h.put("\x22 id\x3D\x22dsq\x2Dcomment\x2Dmessage\x2D");$h.put(comment.id);$h.put("\x22\x3E    ");if(comment.killed){$h.put("      \x3Cem\x3E");$h.put(trans("Comment removed."));$h.put("\x3C/em\x3E    ")}else{if(!comment.approved){$h.put("      \x3Cem\x3E");$h.put(trans("This comment was flagged for review."));$h.put("\x3C/em\x3E    ")}else{$h.put("      ");$h.put(comment.message);$h.put("      ");if(comment.last_modified_by=="moderator"){$h.put("        \x3Cp class\x3D\x22dsq\x2Deditedtxt\x22\x3E(");$h.put(trans("Edited by a moderator"));$h.put(")\x3C/p\x3E      ")}else{if(comment.last_modified_by=="author"&&comment.has_replies){$h.put("        \x3Cp class\x3D\x22dsq\x2Deditedtxt\x22\x3E(");$h.put(trans("Edited by author"));$h.put(" ");$h.put(comment.last_modified_date);$h.put(")\x3C/p\x3E      ")}}$h.put("    ")}}$h.put("  \x3C/div\x3E");return $h.compile()}};$d.blocks.popup=function block_popup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dcontainer ");if(strict){$h.put("dsq\x2Dcleanslate ")}$h.put("\x22\x3E    \x3Ctable\x3E      \x3Ctbody\x3E        \x3Ctr\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dtl\x22\x3E\x3C/td\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Db\x22\x3E\x3C/td\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dtr\x22\x3E\x3C/td\x3E        \x3C/tr\x3E        \x3Ctr\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Db\x22\x3E\x3C/td\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dbody\x22\x3E            \x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dcontent\x22\x3E              \x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dtitle\x22\x3E                \x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dpopup\x2Dclose dsq\x2Dbutton\x2Dsmall\x22 style\x3D\x22float:right\x3B color: #fff\x22\x3E");$h.put(trans("Close"));$h.put("\x3C/button\x3E                \x3Ch3\x3E");$h.put(popupHeader);$h.put("\x3C/h3\x3E              \x3C/div\x3E              ");$h.put(popupBody);$h.put("            \x3C/div\x3E            ");if(footer){$h.put("            \x3Cdiv class\x3D\x22powered\x2Dby\x22\x3E              \x3Ca href\x3D\x22");$h.put(settings.disqus_url);$h.put("\x22\x3E                \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/embed/disqus\x2Dlogo.png\x22 alt\x3D\x22Disqus Comments\x22 style\x3D\x22margin\x2Dbottom:\x2D5px\x3B\x22/\x3E              \x3C/a\x3E            \x3C/div\x3E            ")}$h.put("          \x3C/td\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Db\x22\x3E\x3C/td\x3E        \x3C/tr\x3E        \x3Ctr\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dbl\x22\x3E\x3C/td\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Db\x22\x3E\x3C/td\x3E          \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dbr\x22\x3E\x3C/td\x3E        \x3C/tr\x3E      \x3C/tbody\x3E    \x3C/table\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.globalToolbar=function block_globalToolbar($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv id\x3D\x22dsq\x2Dglobal\x2Dtoolbar\x22 class\x3D\x22dsq\x2Dcommunity\x2Dpreview\x22\x3E    \x3Ctable class\x3D\x22dsq\x2Dglobal\x2Dtoolbar\x2Dcontainer\x22\x3E      \x3Ctr\x3E        \x3Ctd class\x3D\x22dsq\x2Dglobal\x2Dtoolbar\x2Dlikes\x22\x3E          ");if(!forum.thread_votes_disabled){$h.put("          \x3Cdiv class\x3D\x22dsq\x2Dgroup\x22\x3E            \x3Ca href\x3D\x22#\x22 id\x3D\x22dsq\x2Dlike\x2Dthread\x2Dbutton\x22 class\x3D\x22dsq\x2Dthread\x2Dlike dsq\x2Dtoolbar\x2Ditem ");if(thread.user_vote==1){$h.put("dsq\x2Dtoggled ")}$h.put(" dsq\x2Dtt\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.vote\x27, 1)\x3B return false\x3B\x22  title\x3D\x22");$h.put(trans("I like this page"));$h.put("\x22\x3E");$h.put(trans("Like"));$h.put("\x3C/a\x3E            \x3Ca href\x3D\x22#\x22 id\x3D\x22dsq\x2Ddislike\x2Dthread\x2Dbutton\x22 class\x3D\x22dsq\x2Dthread\x2Ddislike dsq\x2Dtoolbar\x2Ditem ");if(thread.user_vote==-1){$h.put("dsq\x2Dtoggled ")}$h.put(" dsq\x2Dtt\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.vote\x27, \x2D1)\x3B return false\x22  title\x3D\x22");$h.put(trans("I don\x26#39\x3Bt like this page"));$h.put("\x22\x3E");$h.put(trans("Dislike"));$h.put("\x3C/a\x3E          \x3C/div\x3E          \x3Cul class\x3D\x22dsq\x2Dlike\x2Dfaces\x22\x3E              ");(function(){var $l={};$d.extend($l,$locals);$d.extend($l,{});$h.put($d.renderBlock("likeActivity",$l))}());$h.put("          \x3C/ul\x3E          ")}$h.put("        \x3C/td\x3E        \x3Ctd\x3E            ");if(context.switches.community_icon){$h.put("            \x3Ca href\x3D\x22#\x22 class\x3D\x22dsq\x2Dcommunity\x2Dlauncher dsq\x2Dtoolbar\x2Ditem dsq\x2Dtt\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27community.show\x27)\x3B return false\x22  title\x3D\x22");$h.put(trans("Expand Community Box"));$h.put("\x22\x3E");$h.put(trans(" Community"));$h.put("\x3C/a\x3E            ")}$h.put("        \x3C/td\x3E        ");if(request.is_moderator){$h.put("        \x3Ctd class\x3D\x22dsq\x2Dglobal\x2Dtoolbar\x2Dsettings\x22\x3E          \x3Ca href\x3D\x22#\x22 class\x3D\x22dsq\x2Dadmin\x2Dsettings dsq\x2Dtoolbar\x2Ditem dsq\x2Dtt\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.settings\x27)\x3B return false\x3B\x22  title\x3D\x22");$h.put(trans("Settings"));$h.put("\x22\x3E");$h.put(trans("Settings"));$h.put("\x3C/a\x3E        \x3C/td\x3E        ")}$h.put("        \x3Ctd class\x3D\x22dsq\x2Dglobal\x2Dtoolbar\x2Ddropdown\x2Dcontainer\x22\x3E          ");(function(){var $l={};$d.extend($l,$locals);$d.extend($l,{});$h.put($d.renderBlock("globalToolbarDropdown",$l))}());$h.put("        \x3C/td\x3E      \x3C/tr\x3E    \x3C/table\x3E  \x3C/div\x3E  \x3Cdiv id\x3D\x22dsq\x2Dlike\x2Dtooltip\x22\x3E    \x3Cdiv id\x3D\x22dsq\x2Dshare\x2Dstep\x2D1\x22 class\x3D\x22dsq\x2Dshare\x2Dstep\x22\x3E      \x3Ch3\x3E");$h.put(trans("Glad you liked it. Would you like to share?"));$h.put("\x3C/h3\x3E      \x3Cp class\x3D\x22dsq\x2Dtooltip\x2Dcheckbox\x22\x3E\x3Cinput type\x3D\x22checkbox\x22 id\x3D\x22dsq\x2Dshare\x2Dthread\x2Dfacebook\x22 value\x3D\x22Facebook\x22 /\x3E\x3Clabel for\x3D\x22dsq\x2Dshare\x2Dthread\x2Dfacebook\x22\x3E\x3Cspan class\x3D\x22dsq\x2Dfacebook\x22\x3EFacebook\x3C/span\x3E\x3C/label\x3E\x3C/p\x3E      \x3Cp class\x3D\x22dsq\x2Dtooltip\x2Dcheckbox\x22\x3E\x3Cinput type\x3D\x22checkbox\x22 id\x3D\x22dsq\x2Dshare\x2Dthread\x2Dtwitter\x22 value\x3D\x22Twitter\x22 /\x3E\x3Clabel for\x3D\x22dsq\x2Dshare\x2Dthread\x2Dtwitter\x22\x3E\x3Cspan class\x3D\x22dsq\x2Dtwitter\x22\x3ETwitter\x3C/span\x3E\x3C/label\x3E\x3C/p\x3E      \x3Cul id\x3D\x22dsq\x2Dtooltip\x2Dactions\x22\x3E        ");if(forum.template.api=="1.0"){$h.put("            \x3Cli\x3E\x3Ca href\x3D\x22#\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.share\x27)\x3B return false\x22 class\x3D\x22dsq\x2Dprimary\x2Daction\x22\x3E");$h.put(trans("Share"));$h.put("\x3C/a\x3E\x3C/li\x3E        ")}else{$h.put("            \x3Cli\x3E\x3Ca href\x3D\x22#\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.share.send\x27)\x3B return false\x22 class\x3D\x22dsq\x2Dprimary\x2Daction\x22\x3E");$h.put(trans("Share"));$h.put("\x3C/a\x3E\x3C/li\x3E        ")}$h.put("        \x3Cli\x3E\x3Ca href\x3D\x22#\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.share.cancel\x27)\x3B return false\x22 class\x3D\x22dsq\x2Dsecondary\x2Daction\x22\x3E");$h.put(trans("No thanks"));$h.put("\x3C/a\x3E\x3C/li\x3E      \x3C/ul\x3E    \x3C/div\x3E    \x3Cdiv id\x3D\x22dsq\x2Dshare\x2Dstep\x2D2\x22 class\x3D\x22dsq\x2Dshare\x2Dstep\x22 style\x3D\x22display:none !important\x22\x3E      \x3Cp\x3E");$h.put(trans("Sharing this page"));$h.put(" \x26hellip\x3B\x3C/p\x3E    \x3C/div\x3E    \x3Cdiv id\x3D\x22dsq\x2Dshare\x2Dstep\x2D3\x22 class\x3D\x22dsq\x2Dshare\x2Dstep\x22 style\x3D\x22display:none !important\x22\x3E      \x3Cp\x3E");$h.put(trans("Thanks!"));$h.put(" \x3Ca href\x3D\x22#\x22 class\x3D\x22dsq\x2Dtooltip\x2Ddecline\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.share.cancel\x27)\x3B return false\x22\x3EClose\x3C/a\x3E\x3C/p\x3E    \x3C/div\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.recaptcha=function block_recaptcha($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv id\x3D\x22dsq\x2Dcaptcha\x22\x3E      \x3Cdiv id\x3D\x22dsq\x2Dcaptcha\x2Dloading\x22\x3E          ");$h.put("          \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/loading.gif\x22/\x3E      \x3C/div\x3E      \x3Cdiv id\x3D\x22dsq\x2Dcaptcha\x2Dcontainer\x22 style\x3D\x22display:none\x22\x3E          \x3Cp\x3E");$h.put(trans("Please type in the following words to finish posting."));$h.put("\x3C/p\x3E          ");$h.put("          \x3Cdiv id\x3D\x22dsq\x2Dcaptcha\x2Dform\x22\x3E\x3C/div\x3E          \x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dbutton\x22\x3E");$h.put(trans("Continue"));$h.put("\x3C/button\x3E      \x3C/div\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.likeActivity=function block_likeActivity($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");$d.each(thread.voters,function(voter,$index,$collection){var $locals={voter:voter,index:$index};$h.put("    \x3Cli class\x3D\x22dsq\x2Dtt\x22 title\x3D\x22");$h.put(voter.name);$h.put("\x22\x3E\x3Ca href\x3D\x22");$h.put(voter.url);$h.put("\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27profile.show\x27, null, \x27");$h.put(voter.username);$h.put("\x27, ");$h.put(voter.is_moderator);$h.put(")\x3B return false\x22\x3E\x3Cimg src\x3D\x22");$h.put(voter.avatar);$h.put("\x22/\x3E\x3C/a\x3E\x3C/li\x3E  ")});$h.put("  \x3Cli class\x3D\x22dsq\x2Dlike\x2Dactivity\x22\x3E  ");if(thread.voters_count>0){$h.put("      ");if(thread.likes-thread.voters_count>0){$h.put("          ");$h.put($d.interpolate(trans("and %(count)s %(other)s liked this."),{count:thread.likes-thread.voters_count,other:lang.pluralize(thread.likes-thread.voters_count,"other","others")}));$h.put("      ")}else{$h.put("          ");$h.put("liked this.");$h.put("      ")}$h.put("  ")}else{if(thread.likes>0){$h.put("      ");$h.put($d.interpolate(trans("%(count)s %(person)s liked this."),{count:thread.likes,person:lang.pluralize(thread.likes,"person","people")}));$h.put("  ")}}$h.put("  \x3C/li\x3E");return $h.compile()}};$d.blocks.threadSettingsPopup=function block_threadSettingsPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dmoderate\x2Doptions\x22\x3E    \x3Cspan id\x3D\x22dsq\x2Dthread\x2Dsettings\x2Dstatus\x22 class\x3D\x22dsq\x2Doptions\x2Dstatus\x22\x3E\x3C/span\x3E    \x3Cp\x3E");$h.put(trans("These settings only apply to this thread. To change settings site\x2Dwide,    visit the main"));$h.put(" \x3Ca href\x3D\x22");$h.put(urls.settings);$h.put("\x22 target\x3D\x22_blank\x22\x3E");$h.put(trans("settings page"));$h.put("\x3C/a\x3E.\x3C/p\x3E    \x3Ctable class\x3D\x22dsq\x2Dmoderator\x2Dsettings\x22\x3E      \x3Ctr\x3E        \x3Ctd\x3E          \x3Ch4\x3E");$h.put(trans("Close/Open thread for comments"));$h.put("\x3C/h4\x3E          \x3Cul\x3E            \x3Cli\x3E              ");if(thread.closed){$h.put("              \x3Ca href\x3D\x22#\x22 class\x3D\x22dsq\x2Dtoggle\x2Dthread\x22                 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.open\x27)\x3B\x22\x3E");$h.put(trans("Open thread"));$h.put("\x3C/a\x3E              ")}else{$h.put("              \x3Ca href\x3D\x22#\x22 class\x3D\x22dsq\x2Dtoggle\x2Dthread\x22                 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.close\x27)\x3B\x22\x3E");$h.put(trans("Close thread"));$h.put("\x3C/a\x3E              ")}$h.put("            \x3C/li\x3E          \x3C/ul\x3E        \x3C/td\x3E      \x3C/tr\x3E      \x3Ctr\x3E        \x3Ctd\x3E          \x3Ch4\x3E");$h.put(trans("Automatic Closing"));$h.put("\x3C/h4\x3E          \x3Cp\x3E");$h.put(trans("Do not allow comments after"));$h.put("          \x3Cinput size\x3D\x223\x22 id\x3D\x22dsq\x2Dthread\x2Ddays\x2Dalive\x22 value\x3D\x22");$h.put(thread.days_alive);$h.put("\x22                 type\x3D\x22text\x22 /\x3E ");$h.put(trans("days"));$h.put(".           ");$h.put(trans("Using 0 days will disable this feature."));$h.put("\x3C/p\x3E          \x3Cp class\x3D\x22dsq\x2Dform\x2Dactions\x22\x3E            \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.updateDaysAlive\x27)\x3B\x22 class\x3D\x22dsq\x2Dbutton\x2Dsmall\x22\x3E              \x3Cspan\x3E");$h.put(trans("Save"));$h.put("\x3C/span\x3E            \x3C/button\x3E          \x3C/p\x3E        \x3C/td\x3E      \x3C/tr\x3E      \x3Ctr\x3E        \x3Ctd ");if(!forum.reactions_enabled){$h.put("class\x3D\x22last\x22")}$h.put("\x3E          \x3Ch4\x3E");$h.put(trans("Moderate all comments"));$h.put("\x3C/h4\x3E          \x3Cul class\x3D\x22dsq\x2Dmoderator\x2Dradios\x22\x3E            \x3Cli\x3E\x3Clabel\x3E\x3Cinput type\x3D\x22radio\x22 id\x3D\x22dsq\x2Dthread\x2Dmoderate\x2Dall\x22                 name\x3D\x22moderate_all_comments\x22 value\x3D\x221\x22 ");if(thread.moderate_all){$h.put("checked\x3D\x22true\x22 ")}$h.put("/\x3E          ");$h.put(trans("\x3Cstrong\x3EYes\x3C/strong\x3E, moderators must approve all comments before they are published."));$h.put("          \x3C/label\x3E\x3C/li\x3E            \x3Cli\x3E\x3Clabel\x3E\x3Cinput type\x3D\x22radio\x22 name\x3D\x22moderate_all_comments\x22 value\x3D\x220\x22 ");if(thread.moderate_none){$h.put("checked\x3D\x22true\x22")}$h.put("/\x3E          ");$h.put(trans("\x3Cstrong\x3ENo\x3C/strong\x3E, comments don\x27t need to be approved before they are published."));$h.put("\x3C/label\x3E\x3C/li\x3E            \x3Cli\x3E\x3Clabel\x3E\x3Cinput type\x3D\x22radio\x22 name\x3D\x22moderate_all_comments\x22 value\x3D\x222\x22 ");if(!thread.moderate_all&&!thread.moderate_none){$h.put("checked\x3D\x22true\x22")}$h.put("/\x3E          ");$h.put(trans("Use the my \x3Cstrong\x3Edefault\x3C/strong\x3E forum setting:"));$h.put("\x26nbsp\x3B");if(forum.moderate_all){$h.put(trans("moderate all comments"))}else{$h.put(trans("don\x27t require moderation"))}$h.put("\x3C/label\x3E\x3C/li\x3E          \x3C/ul\x3E          \x3Cp class\x3D\x22dsq\x2Dform\x2Dactions\x22\x3E            \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.updateModerateAll\x27)\x3B\x22 class\x3D\x22dsq\x2Dbutton\x2Dsmall\x22\x3E              \x3Cspan\x3E");$h.put(trans("Save"));$h.put("\x3C/span\x3E            \x3C/button\x3E          \x3C/p\x3E        \x3C/td\x3E      \x3C/tr\x3E      ");if(forum.reactions_enabled){$h.put("      \x3Ctr\x3E        \x3Ctd class\x3D\x22last\x22\x3E          \x3Ch4\x3E");$h.put(trans("Manually scan reactions"));$h.put("\x3C/h4\x3E          \x3Cp\x3E");$h.put(trans("Are you expecting Reactions for this thread, but do not see them? Click here to tell the system to search again."));$h.put("\x3C/p\x3E          \x3Cp class\x3D\x22dsq\x2Dform\x2Dactions\x22\x3E            \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27reactions.reportMissing\x27)\x3B\x22 class\x3D\x22dsq\x2Dbutton\x2Dsmall\x22\x3E              \x3Cspan\x3E");$h.put(trans("Scan"));$h.put("\x3C/span\x3E            \x3C/button\x3E          \x3C/p\x3E        \x3C/td\x3E      \x3C/tr\x3E      ")}$h.put("    \x3C/table\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.moderatorOptions=function block_moderatorOptions($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");if(request.is_moderator){$h.put("    \x3Cdiv id\x3D\x22dsq\x2Dthread\x2Dsettings\x22 class\x3D\x22dsq\x2Dthread\x2Dsettings\x22\x3E");$h.put(trans("Moderator options"));$h.put(":      \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.settings\x27)\x3B\x22\x3E");$h.put(trans("Settings"));$h.put("\x3C/a\x3E      \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.moderatorActions\x27)\x3B\x22\x3E");$h.put(trans("Moderate"));$h.put("\x3C/a\x3E      \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.help\x27)\x3B\x22\x3E");$h.put(trans("Help"));$h.put("\x3C/a\x3E    \x3C/div\x3E  ")}return $h.compile()}};$d.blocks.subscribeForm=function block_subscribeForm($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dsubscribe\x2Dsubmit\x22\x3E    \x3Cp\x3E\x3Cstrong\x3E");$h.put(trans("Enter your email address below:"));$h.put("\x3C/strong\x3E\x3C/p\x3E    \x3Cinput type\x3D\x22text\x22 id\x3D\x22dsq\x2Dsubscribe\x2Demail\x22/\x3E    \x3Cbutton type\x3D\x22button\x22            onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.subscribe\x27, DISQUS.nodes.get(\x27#dsq\x2Dsubscribe\x2Demail\x27).value)\x3B\x22\x3E      ");$h.put(trans("Subscribe"));$h.put("    \x3C/button\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.moderateOptionsPopup=function block_moderateOptionsPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dmoderate\x2Doptions\x22\x3E    \x3Ctable\x3E      ");if(comment.email){$h.put("      \x3Ctr\x3E        \x3Ctd\x3E");$h.put(trans("Email"));$h.put("\x3C/td\x3E        \x3Ctd\x3E");$h.put(comment.email);$h.put("\x3C/td\x3E      \x3C/tr\x3E      ")}$h.put("      ");if(comment.ip){$h.put("      \x3Ctr\x3E        \x3Ctd\x3E");$h.put(trans("IP address"));$h.put("\x3C/td\x3E        \x3Ctd\x3E");$h.put(comment.ip);$h.put("\x3C/td\x3E      \x3C/tr\x3E      ")}$h.put("      \x3Ctr\x3E        \x3Ctd\x3E");$h.put(trans("Actions"));$h.put("\x3C/td\x3E        \x3Ctd\x3E          \x3Cul\x3E            ");if(request.moderator_can_edit){$h.put("            \x3Cli\x3E              \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27comments.edit.new\x27, ");$h.put(comment.id);$h.put(")\x3B\x22\x3E");$h.put(trans("Edit Comment"));$h.put("\x3C/a\x3E            \x3C/li\x3E            ")}$h.put("            \x3Cli\x3E              \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27comments.delete\x27, ");$h.put(comment.id);$h.put(")\x3B\x22\x3E");$h.put(trans("Delete Comment"));$h.put("\x3C/a\x3E            \x3C/li\x3E            \x3Cli\x3E              \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27comments.spam\x27, ");$h.put(comment.id);$h.put(")\x3B\x22\x3E");$h.put(trans("Mark Spam"));$h.put("\x3C/a\x3E            \x3C/li\x3E            \x3Cli\x3E              \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27comments.blacklist\x27, ");$h.put(comment.id);$h.put(")\x3B\x22\x3E");$h.put(trans("Block User"));$h.put("\x3C/a\x3E            \x3C/li\x3E          \x3C/ul\x3E        \x3C/td\x3E      \x3C/tr\x3E    \x3C/table\x3E  \x3C/div\x3E  \x3Cp\x3E");$h.put(trans("Go to the full"));$h.put(" \x3Ca href\x3D\x22");$h.put(urls.moderate);$h.put("\x22 target\x3D\x22_blank\x22\x3E");$h.put(trans("moderate panel"));$h.put("\x3C/a\x3E ");$h.put(trans("for more options."));$h.put("\x3C/p\x3E");return $h.compile()}};$d.blocks.pageInfo=function block_pageInfo($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");if(request.is_global_moderator){$h.put("    \x3Cdiv class\x3D\x22dsq\x2Dglobal\x2Dmoderator\x2Dextras\x22         style\x3D\x22display: block\x3B margin\x2Dtop: 10px\x3B\x22\x3E      \x3Cstrong\x3EShortname:\x3C/strong\x3E ");$h.put(forum.url);$h.put("      \x3Cstrong\x3EThread ID:\x3C/strong\x3E ");$h.put(thread.id);$h.put("      \x3Cstrong\x3EThread slug:\x3C/strong\x3E ");$h.put(thread.slug);$h.put("      \x3Cstrong\x3ESwitches:\x3C/strong\x3E ");if(context.active_switches){$d.each(context.active_switches,function(sw,$index,$collection){var $locals={sw:sw,index:$index};$h.put(" ");$h.put(sw);$h.put(", ")})}else{$h.put("\x3Cem\x3Enone\x3C/em\x3E")}$h.put("    \x3C/div\x3E  ")}return $h.compile()}};$d.blocks.editProfileSuggestion=function block_editProfileSuggestion($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv id\x3D\x22dsq\x2Dedit\x2Dprofile\x2Dsuggestion\x22 style\x3D\x22display:none\x22\x3E    \x3Cp\x3E");$h.put(trans("Thanks for posting."));$h.put(" ");$h.put(trans("Would you like to"));$h.put(" \x3Ca href\x3D\x22#\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27profile.edit\x27)\x3B return false\x22\x3Eedit your profile\x3C/a\x3E?  \x3C/div\x3E");return $h.compile()}};$d.blocks.editArea=function block_editArea($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dtextarea\x2Dwrapper\x22\x3E    \x3Ctextarea class\x3D\x22dsq\x2Dedit\x2Dtextarea\x22 id\x3D\x22dsq\x2Dedit\x2Dtextarea\x2D");$h.put(comment.id);$h.put("\x22\x3E      ");$h.put(comment.message);$h.put("    \x3C/textarea\x3E    \x3Cdiv id\x3D\x22dsq\x2Dedit\x2Diframe\x2D");$h.put(comment.id);$h.put("\x22 style\x3D\x22display: none\x3B\x22\x3E\x3C/div\x3E  \x3C/div\x3E  \x3Cdiv class\x3D\x22dsq\x2Dsave\x2Dedit\x22\x3E    \x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dbutton\x22      onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27comments.edit.send\x27, ");$h.put(comment.id);$h.put(", this)\x3B\x22\x3E      \x3Cspan\x3E");$h.put(trans("Save Edit"));$h.put("\x3C/span\x3E    \x3C/button\x3E  \x3C/div\x3E");return $h.compile()}};$d.blocks.retweetsPopup=function block_retweetsPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cp\x3E\x3Cstrong\x3E");$h.put(reaction.author_name);$h.put(":\x3C/strong\x3E ");$h.put(reaction.body);$h.put("\x3Cbr/\x3E\x3Ca href\x3D\x22");$h.put(reaction.url);$h.put("\x22\x3E");$h.put(reaction.url);$h.put("\x3Cbr/\x3E\x3C/p\x3E  \x3Cul class\x3D\x22dsq\x2Dretweets\x22\x3E    ");$d.each(reaction.retweets,function(retweet,$index,$collection){var $locals={retweet:retweet,index:$index};$h.put("    \x3Cli\x3E\x3Ca href\x3D\x22");$h.put(retweet.url);$h.put("\x22\x3Eby ");$h.put(retweet.author_name);$h.put("\x3C/a\x3E\x3C/li\x3E    ")});$h.put("  \x3C/ul\x3E  ");return $h.compile()}};$d.blocks.mediaEmbedPopup=function block_mediaEmbedPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");if(media.type==1||media.type==5){$h.put("  \x3Cp\x3E\x3Cimg src\x3D\x22");$h.put(media.location);$h.put("\x22 onload\x3D\x22DISQUS.popup.adjustPosition()\x3B\x22/\x3E\x3C/p\x3E  \x3Cp\x3E\x3Ca href\x3D\x22");$h.put(media.location);$h.put("\x22 target\x3D\x22_blank\x22\x3E");$h.put(trans("Original"));$h.put("\x3C/a\x3E\x3C/p\x3E  ")}else{if(media.type==2){$h.put("  \x3Cdiv style\x3D\x22width:480px !important\x3Bheight:385px !important\x3B\x22\x3E    \x3Cobject width\x3D\x22480\x22 height\x3D\x22385\x22\x3E      \x3Cparam name\x3D\x22movie\x22 value\x3D\x22http://www.youtube.com/v/");$h.put(media.location);$h.put("\x26hl\x3Den_US\x26fs\x3D1\x26\x22\x3E\x3C/param\x3E      \x3Cparam name\x3D\x22allowFullScreen\x22 value\x3D\x22true\x22\x3E\x3C/param\x3E      \x3Cparam name\x3D\x22allowscriptaccess\x22 value\x3D\x22always\x22\x3E\x3C/param\x3E      \x3Cembed src\x3D\x22http://www.youtube.com/v/");$h.put(media.location);$h.put("\x26hl\x3Den_US\x26fs\x3D1\x26\x22 type\x3D\x22application/x\x2Dshockwave\x2Dflash\x22 allowscriptaccess\x3D\x22always\x22 allowfullscreen\x3D\x22true\x22 width\x3D\x22480\x22 height\x3D\x22385\x22\x3E\x3C/embed\x3E    \x3C/object\x3E  \x3C/div\x3E  ")}else{if(media.type==4){$h.put("  \x3Cp\x3E\x3Cimg src\x3D\x22");$h.put(media.metadata.medium);$h.put("\x22 onload\x3D\x22DISQUS.popup.adjustPosition()\x3B\x22/\x3E\x3C/p\x3E  \x3Cp\x3E\x3Ca href\x3D\x22");$h.put(media.metadata.url);$h.put("\x22 target\x3D\x22_blank\x22\x3E");$h.put(trans("Original"));$h.put("\x3C/a\x3E\x3C/p\x3E  ")}}}return $h.compile()}};$d.blocks.postbox_login_options_dropdown=function block_postbox_login_options_dropdown($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cul class\x3D\x22dsq\x2Dlogin\x2Dbuttons\x22\x3E    ");$d.each(loginOptions,function(option,$index,$collection){var $locals={option:option,index:$index};$h.put("      ");if(option.enabled){$h.put("        ");if(option.userDefined){$h.put("          \x3Cli class\x3D\x22dsq\x2Dlogin\x2Dbutton\x22\x3E            \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27");$h.put(option.action);$h.put("\x27)\x3B\x22\x3E              \x3Cimg src\x3D\x22");$h.put(option.button_url);$h.put("\x22\x3E            \x3C/a\x3E          \x3C/li\x3E        ")}else{$h.put("          \x3Cli class\x3D\x22dsq\x2Dlogin\x2Dbutton dsq\x2Dlogin\x2Dbutton\x2D");$h.put(option.name);$h.put("\x22\x3E            \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27");$h.put(option.action);$h.put("\x27)\x3B\x22\x3E\x3C/a\x3E          \x3C/li\x3E        ")}$h.put("      ")}$h.put("    ")});$h.put("    \x3Cli style\x3D\x22clear:both\x22\x3E\x3C/li\x3E  \x3C/ul\x3E");return $h.compile()}};$d.blocks.unapprovedCommentMessage=function block_unapprovedCommentMessage($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");if(mustVerify){$h.put("  ");$h.put(trans("You must finish verifying your Disqus Profile email address in order for your comment to appear here."));$h.put("\x3Cbr/\x3E\x3Cbr/\x3E  \x3Ca href\x3D\x22");$h.put(urls.verify_email);$h.put("\x22\x3E");$h.put(trans("Click here to verify your email address"));$h.put("\x3C/a\x3E  ")}else{$h.put("  ");$h.put(trans("Your comment must be approved by a moderator before appearing here."));$h.put("  ")}return $h.compile()}};$d.blocks.userVotesPopup=function block_userVotesPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  \x3Cul\x3E    ");$d.each(users,function(user,$index,$collection){var $locals={user:user,index:$index};$h.put("    \x3Cli class\x3D\x22dsq\x2Dliked\x2Dby\x2Duser\x22\x3E      \x3Ca href\x3D\x22");$h.put(settings.disqus_url);$h.put("/");$h.put(user.username);$h.put("\x22 target\x3D\x22_blank\x22\x3E        \x3Cimg src\x3D\x22");$h.put(user.avatar_url);$h.put("\x22 alt\x3D\x22\x22/\x3E        ");if(user.display_name){$h.put(user.display_name)}else{$h.put(user.username)}$h.put("      \x3C/a\x3E    \x3C/li\x3E    ")});$h.put("  \x3C/ul\x3E  ");if(anon_likes>0){$h.put("  \x3Cp\x3Eand ");$h.put(anon_likes);$h.put(" more ");$h.put(lang.pluralize(anon_likes,"person","people"));$h.put(".\x3C/p\x3E  ")}return $h.compile()}};$d.blocks.helpLogin=function block_helpLogin($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("\x3Cp\x3E");$h.put(trans("In order to properly log you in, your browser needs to accept cookies from all domains."));$h.put("\x3C/p\x3E\x3Cp\x3E");$h.put(trans("Open up Settings \x3E Privacy. Then, make sure \x3Cstrong\x3EAccept cookies from sites\x3C/strong\x3E is checked. Also, make sure \x3Cstrong\x3EAccept third\x2Dparty\x3C/strong\x3E is checked as well."));$h.put("\x3C/p\x3E\x3Cp\x3E");$h.put(trans("After closing your settings, you may try logging in again."));$h.put("\x3C/p\x3E\x3Cp\x3E");$h.put(trans("Optional: If you would rather add an exception just for Disqus, click \x26ldquo\x3BExceptions...\x26rdquo\x3B and add disqus.com as an allowed domain."));$h.put("\x3C/p\x3E");return $h.compile()}};$d.blocks.moderatorHelpPopup=function block_moderatorHelpPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("\x3Cul class\x3D\x22dsq\x2Dthread\x2Dhelp\x22\x3E  ");if(forum.reactions_enabled){$h.put("  \x3Cli\x3E    \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27reactions.reportMissing\x27)\x3B\x22\x3E");$h.put(trans("Report missing reactions"));$h.put("\x3C/a\x3E    \x3Cp\x3E");$h.put(trans("Are you expecting Reactions for this thread, but do not see them? Select this option to tell the system to search again."));$h.put("\x3C/p\x3E  \x3C/li\x3E  ")}$h.put("  \x3Cli\x3E    \x3Ca href\x3D\x22http://help.disqus.com/forums/\x22 target\x3D\x22_blank\x22\x3E");$h.put(trans("Knowledge Base"));$h.put("\x3C/a\x3E    \x3Cp\x3E");$h.put(trans("Our Knowledge Base has the answers to the most common questions."));$h.put("\x3C/p\x3E  \x3C/li\x3E\x3C/ul\x3E");return $h.compile()}};$d.blocks.loadingPopup=function block_loadingPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("\x3Cdiv style\x3D\x22text\x2Dalign: center\x3B padding: 5px 0 10px 0\x3B\x22\x3E  \x3Cimg src\x3D\x22");$h.put(settings.media_url);$h.put("/images/loading.gif\x22 alt\x3D\x22\x22/\x3E\x3C/div\x3E");return $h.compile()}};$d.blocks.blacklistPopup=function block_blacklistPopup($globals,$locals){var $h=new $d.Builder();var localScope=DISQUS.extend({},$globals,$locals);with(localScope){$h.put("  ");$h.put(trans("Adding this person to the blacklist will block him or her from commenting on this site. Check the following types that you would like to add to the blacklist"));$h.put(":  ");if(user.registered){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dblacklist\x2Doption\x22\x3E    \x3Cinput id\x3D\x22dsq\x2Dblacklist\x2Dusername\x22 type\x3D\x22checkbox\x22 checked\x3D\x22true\x22/\x3E    \x3Clabel for\x3D\x22dsq\x2Dblacklist\x2Dusername\x22\x3E\x3Cstrong\x3E");$h.put(trans("Username"));$h.put("\x3C/strong\x3E: ");$h.put(user.username);$h.put("\x3C/label\x3E  \x3C/div\x3E  ")}$h.put("  ");if(comment.email){$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dblacklist\x2Doption\x22\x3E    \x3Cinput id\x3D\x22dsq\x2Dblacklist\x2Demail\x22 type\x3D\x22checkbox\x22 checked\x3D\x22true\x22/\x3E    \x3Clabel for\x3D\x22dsq\x2Dblacklist\x2Demail\x22\x3E\x3Cstrong\x3E");$h.put(trans("Email address"));$h.put("\x3C/strong\x3E: ");$h.put(comment.email);$h.put("\x3C/label\x3E  \x3C/div\x3E  ")}$h.put("  \x3Cdiv class\x3D\x22dsq\x2Dblacklist\x2Doption\x22\x3E    \x3Cinput id\x3D\x22dsq\x2Dblacklist\x2Dip\x22 type\x3D\x22checkbox\x22 onclick\x3D\x22DISQUS.nodes.get(\x27#dsq\x2Dblacklist\x2Dip\x2Dwarning\x27).style.display\x3D\x27block\x27\x3B\x22/\x3E    \x3Clabel for\x3D\x22dsq\x2Dblacklist\x2Dip\x22\x3E\x3Cstrong\x3E");$h.put(trans("IP address"));$h.put("\x3C/strong\x3E: ");$h.put(comment.ip);$h.put("\x3C/label\x3E  \x3C/div\x3E  \x3Cp id\x3D\x22dsq\x2Dblacklist\x2Dip\x2Dwarning\x22 style\x3D\x22display:none\x22\x3E    ");$h.put(trans("Note: Blocking this person\x27s IP address may also unintentionally    prevent others, who share his/her IP address, from commenting on    this site. This may include people who are sharing the same    computer, living in the same house, or using the same Internet    provider. Only block an IP address as a last resort."));$h.put("  \x3C/p\x3E  \x3Cp style\x3D\x22text\x2Dalign:center\x22\x3E    \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27comments.blacklist\x27, ");$h.put(comment.id);$h.put(", true)\x3B\x22\x3E      ");$h.put(trans("Add to Blacklist"));$h.put("    \x3C/button\x3E  \x3C/p\x3E");return $h.compile()}}});